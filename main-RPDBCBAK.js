import{A as Yi,B as cg,C as lg,D as x,E as ze,F as _e,G as tu,H as ug,I as Ki,J as Oe,K as Zt,L as Hs,M as nu,N as dg,O as Nr,P as Qi,Q as fg,R as hg,S as hn,T as Fe,a as _,b as K,c as Ke,d as Zm,e as Vs,f as Xm,g as Jm,h as g,i as Ar,j as Bs,k as eg,l as tg,m as we,n as ng,o as eu,p as rg,q as Nt,r as ig,s as og,t as Us,u as ge,v as sg,w as ag,x as ot,y as fn,z as $s}from"./chunk-EZSGLQGS.js";var pg=null;var ru=1,iu=Symbol("SIGNAL");function Q(t){let e=pg;return pg=t,e}var mg={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function OD(t){if(!(au(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ru)){if(!t.producerMustRecompute(t)&&!ou(t)){t.dirty=!1,t.lastCleanEpoch=ru;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ru}}function gg(t){return t&&(t.nextProducerIndex=0),Q(t)}function bg(t,e){if(Q(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(au(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)su(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ou(t){zs(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(OD(n),r!==n.version))return!0}return!1}function vg(t){if(zs(t),au(t))for(let e=0;e<t.producerNode.length;e++)su(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function su(t,e){if(FD(t),zs(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)su(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];zs(i),i.producerIndexOfThis[r]=e}}function au(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function zs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function FD(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function PD(){throw new Error}var LD=PD;function _g(t){LD=t}function M(t){return typeof t=="function"}function Rr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ws=Rr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Wn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(M(r))try{r()}catch(o){e=o instanceof Ws?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{yg(o)}catch(s){e=e??[],s instanceof Ws?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ws(e)}}add(e){var n;if(e&&e!==this)if(this.closed)yg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Wn(n,e)}remove(e){let{_finalizers:n}=this;n&&Wn(n,e),e instanceof t&&e._removeParent(this)}};pe.EMPTY=(()=>{let t=new pe;return t.closed=!0,t})();var cu=pe.EMPTY;function Gs(t){return t instanceof pe||t&&"closed"in t&&M(t.remove)&&M(t.add)&&M(t.unsubscribe)}function yg(t){M(t)?t():t.unsubscribe()}var _t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var kr={setTimeout(t,e,...n){let{delegate:r}=kr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=kr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function qs(t){kr.setTimeout(()=>{let{onUnhandledError:e}=_t;if(e)e(t);else throw t})}function Gn(){}var wg=lu("C",void 0,void 0);function Cg(t){return lu("E",void 0,t)}function Dg(t){return lu("N",t,void 0)}function lu(t,e,n){return{kind:t,value:e,error:n}}var qn=null;function Or(t){if(_t.useDeprecatedSynchronousErrorHandling){let e=!qn;if(e&&(qn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=qn;if(qn=null,n)throw r}}else t()}function Ig(t){_t.useDeprecatedSynchronousErrorHandling&&qn&&(qn.errorThrown=!0,qn.error=t)}var Yn=class extends pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Gs(e)&&e.add(this)):this.destination=BD}static create(e,n,r){return new Xt(e,n,r)}next(e){this.isStopped?du(Dg(e),this):this._next(e)}error(e){this.isStopped?du(Cg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?du(wg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jD=Function.prototype.bind;function uu(t,e){return jD.call(t,e)}var fu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ys(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ys(r)}else Ys(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ys(n)}}},Xt=class extends Yn{constructor(e,n,r){super();let i;if(M(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&_t.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&uu(e.next,o),error:e.error&&uu(e.error,o),complete:e.complete&&uu(e.complete,o)}):i=e}this.destination=new fu(i)}};function Ys(t){_t.useDeprecatedSynchronousErrorHandling?Ig(t):qs(t)}function VD(t){throw t}function du(t,e){let{onStoppedNotification:n}=_t;n&&kr.setTimeout(()=>n(t,e))}var BD={closed:!0,next:Gn,error:VD,complete:Gn};var Fr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function xe(t){return t}function hu(...t){return pu(t)}function pu(t){return t.length===0?xe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var P=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=$D(n)?n:new Xt(n,r,i);return Or(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Eg(r),new r((i,o)=>{let s=new Xt({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Fr](){return this}pipe(...n){return pu(n)(this)}toPromise(n){return n=Eg(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Eg(t){var e;return(e=t??_t.Promise)!==null&&e!==void 0?e:Promise}function UD(t){return t&&M(t.next)&&M(t.error)&&M(t.complete)}function $D(t){return t&&t instanceof Yn||UD(t)&&Gs(t)}function mu(t){return M(t?.lift)}function N(t){return e=>{if(mu(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function A(t,e,n,r,i){return new gu(t,e,n,r,i)}var gu=class extends Yn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Pr(){return N((t,e)=>{let n=null;t._refCount++;let r=A(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Lr=class extends P{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,mu(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new pe;let n=this.getSubject();e.add(this.source.subscribe(A(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=pe.EMPTY)}return e}refCount(){return Pr()(this)}};var xg=Rr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=(()=>{class t extends P{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ks(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new xg}next(n){Or(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Or(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Or(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?cu:(this.currentObservers=null,o.push(n),new pe(()=>{this.currentObservers=null,Wn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new P;return n.source=this,n}}return t.create=(e,n)=>new Ks(e,n),t})(),Ks=class extends ce{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:cu}};var Se=class extends ce{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Zi={now(){return(Zi.delegate||Date).now()},delegate:void 0};var Qs=class extends ce{constructor(e=1/0,n=1/0,r=Zi){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Zs=class extends pe{constructor(e,n){super()}schedule(e,n=0){return this}};var Xi={setInterval(t,e,...n){let{delegate:r}=Xi;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Xi;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var jr=class extends Zs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Xi.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Xi.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Wn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Vr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Vr.now=Zi.now;var Br=class extends Vr{constructor(e,n=Vr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Kn=new Br(jr);var Xs=class extends jr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Js=class extends Br{};var bu=new Js(Xs);var Pe=new P(t=>t.complete());function Sg(t){return t&&M(t.schedule)}function vu(t){return t[t.length-1]}function Ur(t){return M(vu(t))?t.pop():void 0}function Rt(t){return Sg(vu(t))?t.pop():void 0}function Tg(t,e){return typeof vu(t)=="number"?t.pop():e}var ea=t=>t&&typeof t.length=="number"&&typeof t!="function";function ta(t){return M(t?.then)}function na(t){return M(t[Fr])}function ra(t){return Symbol.asyncIterator&&M(t?.[Symbol.asyncIterator])}function ia(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function HD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var oa=HD();function sa(t){return M(t?.[oa])}function aa(t){return Xm(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Vs(n.read());if(i)return yield Vs(void 0);yield yield Vs(r)}}finally{n.releaseLock()}})}function ca(t){return M(t?.getReader)}function ee(t){if(t instanceof P)return t;if(t!=null){if(na(t))return zD(t);if(ea(t))return WD(t);if(ta(t))return GD(t);if(ra(t))return Mg(t);if(sa(t))return qD(t);if(ca(t))return YD(t)}throw ia(t)}function zD(t){return new P(e=>{let n=t[Fr]();if(M(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function WD(t){return new P(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function GD(t){return new P(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,qs)})}function qD(t){return new P(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Mg(t){return new P(e=>{KD(t,e).catch(n=>e.error(n))})}function YD(t){return Mg(aa(t))}function KD(t,e){var n,r,i,o;return Zm(this,void 0,void 0,function*(){try{for(n=Jm(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function We(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function st(t,e=0){return N((n,r)=>{n.subscribe(A(r,i=>We(r,t,()=>r.next(i),e),()=>We(r,t,()=>r.complete(),e),i=>We(r,t,()=>r.error(i),e)))})}function yt(t,e=0){return N((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ag(t,e){return ee(t).pipe(yt(e),st(e))}function Ng(t,e){return ee(t).pipe(yt(e),st(e))}function Rg(t,e){return new P(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function kg(t,e){return new P(n=>{let r;return We(n,e,()=>{r=t[oa](),We(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>M(r?.return)&&r.return()})}function la(t,e){if(!t)throw new Error("Iterable cannot be null");return new P(n=>{We(n,e,()=>{let r=t[Symbol.asyncIterator]();We(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Og(t,e){return la(aa(t),e)}function Fg(t,e){if(t!=null){if(na(t))return Ag(t,e);if(ea(t))return Rg(t,e);if(ta(t))return Ng(t,e);if(ra(t))return la(t,e);if(sa(t))return kg(t,e);if(ca(t))return Og(t,e)}throw ia(t)}function J(t,e){return e?Fg(t,e):ee(t)}function I(...t){let e=Rt(t);return J(t,e)}function $r(t,e){let n=M(t)?t:()=>t,r=i=>i.error(n());return new P(e?i=>e.schedule(r,0,i):r)}function _u(t){return!!t&&(t instanceof P||M(t.lift)&&M(t.subscribe))}var Jt=Rr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function S(t,e){return N((n,r)=>{let i=0;n.subscribe(A(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:QD}=Array;function ZD(t,e){return QD(e)?t(...e):t(e)}function ua(t){return S(e=>ZD(t,e))}var{isArray:XD}=Array,{getPrototypeOf:JD,prototype:eI,keys:tI}=Object;function da(t){if(t.length===1){let e=t[0];if(XD(e))return{args:e,keys:null};if(nI(e)){let n=tI(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function nI(t){return t&&typeof t=="object"&&JD(t)===eI}function fa(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Qn(...t){let e=Rt(t),n=Ur(t),{args:r,keys:i}=da(t);if(r.length===0)return J([],e);let o=new P(rI(r,e,i?s=>fa(i,s):xe));return n?o.pipe(ua(n)):o}function rI(t,e,n=xe){return r=>{Pg(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Pg(e,()=>{let l=J(t[c],e),u=!1;l.subscribe(A(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Pg(t,e,n){t?We(n,t,e):e()}function Lg(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=b=>l<r?p(b):c.push(b),p=b=>{o&&e.next(b),l++;let D=!1;ee(n(b,u++)).subscribe(A(e,E=>{i?.(E),o?h(E):e.next(E)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;c.length&&l<r;){let E=c.shift();s?We(e,s,()=>p(E)):p(E)}f()}catch(E){e.error(E)}}))};return t.subscribe(A(e,h,()=>{d=!0,f()})),()=>{a?.()}}function be(t,e,n=1/0){return M(e)?be((r,i)=>S((o,s)=>e(r,o,i,s))(ee(t(r,i))),n):(typeof e=="number"&&(n=e),N((r,i)=>Lg(r,i,t,n)))}function pn(t=1/0){return be(xe,t)}function jg(){return pn(1)}function mn(...t){return jg()(J(t,Rt(t)))}function ha(t){return new P(e=>{ee(t()).subscribe(e)})}function yu(...t){let e=Ur(t),{args:n,keys:r}=da(t),i=new P(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;ee(n[u]).subscribe(A(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?fa(r,a):a),o.complete())}))}});return e?i.pipe(ua(e)):i}function Hr(...t){let e=Rt(t),n=Tg(t,1/0),r=t;return r.length?r.length===1?ee(r[0]):pn(n)(J(r,e)):Pe}function Ae(t,e){return N((n,r)=>{let i=0;n.subscribe(A(r,o=>t.call(e,o,i++)&&r.next(o)))})}function gn(t){return N((e,n)=>{let r=null,i=!1,o;r=e.subscribe(A(n,void 0,void 0,s=>{o=ee(t(s,gn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Vg(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(A(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Zn(t,e){return M(e)?be(t,e,1):be(t,1)}function wu(t,e=Kn){return N((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+t,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}n.subscribe(A(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function bn(t){return N((e,n)=>{let r=!1;e.subscribe(A(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function wt(t){return t<=0?()=>Pe:N((e,n)=>{let r=0;e.subscribe(A(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Cu(t){return S(()=>t)}function Du(t,e=xe){return t=t??iI,N((n,r)=>{let i,o=!0;n.subscribe(A(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function iI(t,e){return t===e}function pa(t=oI){return N((e,n)=>{let r=!1;e.subscribe(A(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function oI(){return new Jt}function Ji(t){return N((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function at(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ae((i,o)=>t(i,o,r)):xe,wt(1),n?bn(e):pa(()=>new Jt))}function zr(t){return t<=0?()=>Pe:N((e,n)=>{let r=[];e.subscribe(A(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Iu(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ae((i,o)=>t(i,o,r)):xe,zr(1),n?bn(e):pa(()=>new Jt))}function Wr(t,e){return N(Vg(t,e,arguments.length>=2,!0))}function eo(t={}){let{connector:e=()=>new ce,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,u=d=!1},p=()=>{let b=s;h(),b?.unsubscribe()};return N((b,D)=>{l++,!d&&!u&&f();let E=c=c??e();D.add(()=>{l--,l===0&&!d&&!u&&(a=Eu(p,i))}),E.subscribe(D),!s&&l>0&&(s=new Xt({next:Y=>E.next(Y),error:Y=>{d=!0,f(),a=Eu(h,n,Y),E.error(Y)},complete:()=>{u=!0,f(),a=Eu(h,r),E.complete()}}),ee(b).subscribe(s))})(o)}}function Eu(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Xt({next:()=>{r.unsubscribe(),t()}});return ee(e(...n)).subscribe(r)}function ma(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,eo({connector:()=>new Qs(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function xu(t){return Ae((e,n)=>t<=n)}function Su(t){return N((e,n)=>{let r=!1,i=0;e.subscribe(A(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}function to(...t){let e=Rt(t);return N((n,r)=>{(e?mn(t,n,e):mn(t,n)).subscribe(r)})}function se(t,e){return N((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(A(r,c=>{i?.unsubscribe();let l=0,u=o++;ee(t(c,u)).subscribe(i=A(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ga(t,e){return M(e)?se(()=>t,e):se(()=>t)}function no(t){return N((e,n)=>{ee(t).subscribe(A(n,()=>n.complete(),Gn)),!n.closed&&e.subscribe(n)})}function ye(t,e,n){let r=M(t)||e||n?{next:t,error:e,complete:n}:t;return r?N((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(A(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):xe}function Tu(...t){let e=Ur(t);return N((n,r)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)ee(t[c]).subscribe(A(r,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(xe))&&(s=null))},Gn));n.subscribe(A(r,c=>{if(a){let l=[c,...o];r.next(e?e(...l):l)}}))})}var sI="https://g.co/ng/security#xss",C=class extends Error{constructor(e,n){super(Nd(e,n)),this.code=e}};function Nd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function go(t){return{toString:t}.toString()}var ba="__parameters__";function aI(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Ib(t,e,n){return go(()=>{let r=aI(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(ba)?c[ba]:Object.defineProperty(c,ba,{value:[]})[ba];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Qe=globalThis;function te(t){for(let e in t)if(t[e]===te)return e;throw Error("Could not find renamed property on target object.")}function cI(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function je(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(je).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Bg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var lI=te({__forward_ref__:te});function ar(t){return t.__forward_ref__=ar,t.toString=function(){return je(this())},t}function Le(t){return Eb(t)?t():t}function Eb(t){return typeof t=="function"&&t.hasOwnProperty(lI)&&t.__forward_ref__===ar}function y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function H(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ya(t){return Ug(t,Sb)||Ug(t,Tb)}function xb(t){return Ya(t)!==null}function Ug(t,e){return t.hasOwnProperty(e)?t[e]:null}function uI(t){let e=t&&(t[Sb]||t[Tb]);return e||null}function $g(t){return t&&(t.hasOwnProperty(Hg)||t.hasOwnProperty(dI))?t[Hg]:null}var Sb=te({\u0275prov:te}),Hg=te({\u0275inj:te}),Tb=te({ngInjectableDef:te}),dI=te({ngInjectorDef:te}),w=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=y({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Mb(t){return t&&!!t.\u0275providers}var fI=te({\u0275cmp:te}),hI=te({\u0275dir:te}),pI=te({\u0275pipe:te}),mI=te({\u0275mod:te}),xa=te({\u0275fac:te}),ro=te({__NG_ELEMENT_ID__:te}),zg=te({__NG_ENV_ID__:te});function Rd(t){return typeof t=="string"?t:t==null?"":String(t)}function gI(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Rd(t)}function bI(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,t)}function kd(t,e){throw new C(-201,!1)}var V=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(V||{}),Hu;function Ab(){return Hu}function ct(t){let e=Hu;return Hu=t,e}function Nb(t,e,n){let r=Ya(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&V.Optional)return null;if(e!==void 0)return e;kd(t,"Injector")}var vI={},oo=vI,zu="__NG_DI_FLAG__",Sa="ngTempTokenPath",_I="ngTokenPath",yI=/\n/gm,wI="\u0275",Wg="__source",Qr;function CI(){return Qr}function vn(t){let e=Qr;return Qr=t,e}function DI(t,e=V.Default){if(Qr===void 0)throw new C(-203,!1);return Qr===null?Nb(t,void 0,e):Qr.get(t,e&V.Optional?null:void 0,e)}function m(t,e=V.Default){return(Ab()||DI)(Le(t),e)}function v(t,e=V.Default){return m(t,Ka(e))}function Ka(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wu(t){let e=[];for(let n=0;n<t.length;n++){let r=Le(t[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,o=V.Default;for(let s=0;s<r.length;s++){let a=r[s],c=II(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(m(i,o))}else e.push(m(r))}return e}function Rb(t,e){return t[zu]=e,t.prototype[zu]=e,t}function II(t){return t[zu]}function EI(t,e,n,r){let i=t[Sa];throw e[Wg]&&i.unshift(e[Wg]),t.message=xI(`
`+t.message,i,n,r),t[_I]=i,t[Sa]=null,t}function xI(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==wI?t.slice(2):t;let i=je(e);if(Array.isArray(e))i=e.map(je).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):je(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(yI,`
  `)}`}var ai=Rb(Ib("Optional"),8);var Od=Rb(Ib("SkipSelf"),4);function Xr(t,e){let n=t.hasOwnProperty(xa);return n?t[xa]:null}function Fd(t,e){t.forEach(n=>Array.isArray(n)?Fd(n,e):e(n))}function kb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ta(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function SI(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function TI(t,e,n){let r=bo(t,e);return r>=0?t[r|1]=n:(r=~r,SI(t,r,e,n)),r}function Mu(t,e){let n=bo(t,e);if(n>=0)return t[n|1]}function bo(t,e){return MI(t,e,1)}function MI(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Jr={},lt=[],ei=new w(""),Ob=new w("",-1),Fb=new w(""),Ma=class{get(e,n=oo){if(n===oo){let r=new Error(`NullInjectorError: No provider for ${je(e)}!`);throw r.name="NullInjectorError",r}return n}},Pb=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Pb||{}),Ft=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ft||{}),Te=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Te||{});function AI(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Gu(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];RI(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function NI(t){return t===3||t===4||t===6}function RI(t){return t.charCodeAt(0)===64}function so(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Gg(t,n,i,null,e[++r]):Gg(t,n,i,null,null))}}return t}function Gg(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Lb="ng-template";function kI(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&AI(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Pd(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Pd(t){return t.type===4&&t.value!==Lb}function OI(t,e,n){let r=t.type===4&&!n?Lb:t.value;return e===r}function FI(t,e,n){let r=4,i=t.attrs,o=i!==null?jI(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Ct(r)&&!Ct(c))return!1;if(s&&Ct(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!OI(t,c,n)||c===""&&e.length===1){if(Ct(r))return!1;s=!0}}else if(r&8){if(i===null||!kI(t,i,c,n)){if(Ct(r))return!1;s=!0}}else{let l=e[++a],u=PI(c,i,Pd(t),n);if(u===-1){if(Ct(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Ct(r))return!1;s=!0}}}}return Ct(r)||s}function Ct(t){return(t&1)===0}function PI(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return VI(e,t)}function LI(t,e,n=!1){for(let r=0;r<e.length;r++)if(FI(t,e[r],n))return!0;return!1}function jI(t){for(let e=0;e<t.length;e++){let n=t[e];if(NI(n))return e}return t.length}function VI(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function qg(t,e){return t?":not("+e.trim()+")":e}function BI(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ct(s)&&(e+=qg(o,i),i=""),r=s,o=o||!Ct(r);n++}return i!==""&&(e+=qg(o,i)),e}function UI(t){return t.map(BI).join(",")}function $I(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ct(i))break;i=o}r++}return{attrs:e,classes:n}}function Ze(t){return go(()=>{let e=$b(t),n=K(_({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Pb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ft.Emulated,styles:t.styles||lt,_:null,schemas:t.schemas||null,tView:null,id:""});Hb(n);let r=t.dependencies;return n.directiveDefs=Kg(r,!1),n.pipeDefs=Kg(r,!0),n.id=WI(n),n})}function HI(t){return yn(t)||jb(t)}function zI(t){return t!==null}function z(t){return go(()=>({type:t.type,bootstrap:t.bootstrap||lt,declarations:t.declarations||lt,imports:t.imports||lt,exports:t.exports||lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Yg(t,e){if(t==null)return Jr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Te.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Te.None?[r,a]:r,e[o]=s):n[o]=r}return n}function de(t){return go(()=>{let e=$b(t);return Hb(e),e})}function yn(t){return t[fI]||null}function jb(t){return t[hI]||null}function Vb(t){return t[pI]||null}function Bb(t){let e=yn(t)||jb(t)||Vb(t);return e!==null?e.standalone:!1}function Ub(t,e){let n=t[mI]||null;if(!n&&e===!0)throw new Error(`Type ${je(t)} does not have '\u0275mod' property.`);return n}function $b(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Jr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||lt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yg(t.inputs,e),outputs:Yg(t.outputs),debugInfo:null}}function Hb(t){t.features?.forEach(e=>e(t))}function Kg(t,e){if(!t)return null;let n=e?Vb:HI;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(zI)}function WI(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function GI(...t){return{\u0275providers:zb(!0,t),\u0275fromNgModule:!0}}function zb(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Fd(e,s=>{let a=s;qu(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Wb(i,o),n}function Wb(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ld(i,o=>{e(o,r)})}}function qu(t,e,n,r){if(t=Le(t),!t)return!1;let i=null,o=$g(t),s=!o&&yn(t);if(!o&&!s){let c=t.ngModule;if(o=$g(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)qu(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Fd(o.imports,u=>{qu(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Wb(l,e)}if(!a){let l=Xr(i)||(()=>new i);e({provide:i,useFactory:l,deps:lt},i),e({provide:Fb,useValue:i,multi:!0},i),e({provide:ei,useValue:()=>m(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Ld(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Ld(t,e){for(let n of t)Mb(n)&&(n=n.\u0275providers),Array.isArray(n)?Ld(n,e):e(n)}var qI=te({provide:String,useValue:te});function Gb(t){return t!==null&&typeof t=="object"&&qI in t}function YI(t){return!!(t&&t.useExisting)}function KI(t){return!!(t&&t.useFactory)}function ti(t){return typeof t=="function"}function QI(t){return!!t.useClass}var Qa=new w(""),wa={},ZI={},Au;function jd(){return Au===void 0&&(Au=new Ma),Au}var Ge=class{},ao=class extends Ge{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ku(e,s=>this.processProvider(s)),this.records.set(Ob,Gr(void 0,this)),i.has("environment")&&this.records.set(Ge,Gr(void 0,this));let o=this.records.get(Qa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Fb,lt,V.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=vn(this),r=ct(void 0),i;try{return e()}finally{vn(n),ct(r)}}get(e,n=oo,r=V.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(zg))return e[zg](this);r=Ka(r);let i,o=vn(this),s=ct(void 0);try{if(!(r&V.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=nE(e)&&Ya(e);l&&this.injectableDefInScope(l)?c=Gr(Yu(e),wa):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&V.Self?jd():this.parent;return n=r&V.Optional&&n===oo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Sa]=a[Sa]||[]).unshift(je(e)),o)throw a;return EI(a,e,"R3InjectorError",this.source)}else throw a}finally{ct(s),vn(o)}}resolveInjectorInitializers(){let e=Q(null),n=vn(this),r=ct(void 0),i;try{let o=this.get(ei,lt,V.Self);for(let s of o)s()}finally{vn(n),ct(r),Q(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(je(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){e=Le(e);let n=ti(e)?e:Le(e&&e.provide),r=JI(e);if(!ti(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Gr(void 0,wa,!0),i.factory=()=>Wu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Q(null);try{return n.value===wa&&(n.value=ZI,n.value=n.factory()),typeof n.value=="object"&&n.value&&tE(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Q(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Le(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yu(t){let e=Ya(t),n=e!==null?e.factory:Xr(t);if(n!==null)return n;if(t instanceof w)throw new C(204,!1);if(t instanceof Function)return XI(t);throw new C(204,!1)}function XI(t){if(t.length>0)throw new C(204,!1);let n=uI(t);return n!==null?()=>n.factory(t):()=>new t}function JI(t){if(Gb(t))return Gr(void 0,t.useValue);{let e=qb(t);return Gr(e,wa)}}function qb(t,e,n){let r;if(ti(t)){let i=Le(t);return Xr(i)||Yu(i)}else if(Gb(t))r=()=>Le(t.useValue);else if(KI(t))r=()=>t.useFactory(...Wu(t.deps||[]));else if(YI(t))r=()=>m(Le(t.useExisting));else{let i=Le(t&&(t.useClass||t.provide));if(eE(t))r=()=>new i(...Wu(t.deps));else return Xr(i)||Yu(i)}return r}function Gr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function eE(t){return!!t.deps}function tE(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function nE(t){return typeof t=="function"||typeof t=="object"&&t instanceof w}function Ku(t,e){for(let n of t)Array.isArray(n)?Ku(n,e):n&&Mb(n)?Ku(n.\u0275providers,e):e(n)}function tn(t,e){t instanceof ao&&t.assertNotDestroyed();let n,r=vn(t),i=ct(void 0);try{return e()}finally{vn(r),ct(i)}}function Yb(){return Ab()!==void 0||CI()!=null}function rE(t){if(!Yb())throw new C(-203,!1)}function iE(t){let e=Qe.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function oE(t){return typeof t=="function"}var nn=0,W=1,T=2,Ne=3,Dt=4,xt=5,Aa=6,co=7,It=8,ni=9,Pt=10,ve=11,lo=12,Qg=13,ci=14,Lt=15,Za=16,qr=17,ri=18,Xa=19,Kb=20,_n=21,Nu=22,er=23,wn=25,Qb=1;var tr=7,Na=8,Ra=9,ut=10,Vd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Vd||{});function Xn(t){return Array.isArray(t)&&typeof t[Qb]=="object"}function rn(t){return Array.isArray(t)&&t[Qb]===!0}function Zb(t){return(t.flags&4)!==0}function Ja(t){return t.componentOffset>-1}function Bd(t){return(t.flags&1)===1}function Cn(t){return!!t.template}function sE(t){return(t[T]&512)!==0}var Qu=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Xb(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function In(){return Jb}function Jb(t){return t.type.prototype.ngOnChanges&&(t.setInput=cE),aE}In.ngInherit=!0;function aE(){let t=tv(this),e=t?.current;if(e){let n=t.previous;if(n===Jr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function cE(t,e,n,r,i){let o=this.declaredInputs[r],s=tv(t)||lE(t,{previous:Jr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Qu(l&&l.currentValue,n,c===Jr),Xb(t,e,i,n)}var ev="__ngSimpleChanges__";function tv(t){return t[ev]||null}function lE(t,e){return t[ev]=e}var Zg=null;var kt=function(t,e,n){Zg?.(t,e,n)},uE="svg",dE="math",fE=!1;function hE(){return fE}function jt(t){for(;Array.isArray(t);)t=t[nn];return t}function nv(t,e){return jt(e[t])}function dt(t,e){return jt(e[t.index])}function rv(t,e){return t.data[e]}function En(t,e){let n=e[t];return Xn(n)?n:n[nn]}function Ud(t){return(t[T]&128)===128}function pE(t){return rn(t[Ne])}function ka(t,e){return e==null?null:t[e]}function iv(t){t[qr]=0}function mE(t){t[T]&1024||(t[T]|=1024,Ud(t)&&uo(t))}function gE(t,e){for(;t>0;)e=e[ci],t--;return e}function $d(t){return!!(t[T]&9216||t[er]?.dirty)}function Zu(t){t[Pt].changeDetectionScheduler?.notify(1),$d(t)?uo(t):t[T]&64&&(hE()?(t[T]|=1024,uo(t)):t[Pt].changeDetectionScheduler?.notify())}function uo(t){t[Pt].changeDetectionScheduler?.notify();let e=fo(t);for(;e!==null&&!(e[T]&8192||(e[T]|=8192,!Ud(e)));)e=fo(e)}function ov(t,e){if((t[T]&256)===256)throw new C(911,!1);t[_n]===null&&(t[_n]=[]),t[_n].push(e)}function bE(t,e){if(t[_n]===null)return;let n=t[_n].indexOf(e);n!==-1&&t[_n].splice(n,1)}function fo(t){let e=t[Ne];return rn(e)?e[Ne]:e}var $={lFrame:fv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vE(){return $.lFrame.elementDepthCount}function _E(){$.lFrame.elementDepthCount++}function yE(){$.lFrame.elementDepthCount--}function sv(){return $.bindingsEnabled}function wE(){return $.skipHydrationRootTNode!==null}function CE(t){return $.skipHydrationRootTNode===t}function DE(){$.skipHydrationRootTNode=null}function oe(){return $.lFrame.lView}function qe(){return $.lFrame.tView}function xn(t){return $.lFrame.contextLView=t,t[It]}function Sn(t){return $.lFrame.contextLView=null,t}function Xe(){let t=av();for(;t!==null&&t.type===64;)t=t.parent;return t}function av(){return $.lFrame.currentTNode}function IE(){let t=$.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function vo(t,e){let n=$.lFrame;n.currentTNode=t,n.isParent=e}function cv(){return $.lFrame.isParent}function EE(){$.lFrame.isParent=!1}function xE(t){return $.lFrame.bindingIndex=t}function ec(){return $.lFrame.bindingIndex++}function SE(t){let e=$.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function TE(){return $.lFrame.inI18n}function ME(t,e){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=t,Xu(e)}function AE(){return $.lFrame.currentDirectiveIndex}function Xu(t){$.lFrame.currentDirectiveIndex=t}function NE(t){let e=$.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function lv(t){$.lFrame.currentQueryIndex=t}function RE(t){let e=t[W];return e.type===2?e.declTNode:e.type===1?t[xt]:null}function uv(t,e,n){if(n&V.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&V.Host);)if(i=RE(o),i===null||(o=o[ci],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=$.lFrame=dv();return r.currentTNode=e,r.lView=t,!0}function Hd(t){let e=dv(),n=t[W];$.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function dv(){let t=$.lFrame,e=t===null?null:t.child;return e===null?fv(t):e}function fv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function hv(){let t=$.lFrame;return $.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var pv=hv;function zd(){let t=hv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function kE(t){return($.lFrame.contextLView=gE(t,$.lFrame.contextLView))[It]}function li(){return $.lFrame.selectedIndex}function nr(t){$.lFrame.selectedIndex=t}function tc(){let t=$.lFrame;return rv(t.tView,t.selectedIndex)}function OE(){return $.lFrame.currentNamespace}var mv=!0;function Wd(){return mv}function Gd(t){mv=t}function FE(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Jb(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function qd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Ca(t,e,n){gv(t,e,3,n)}function Da(t,e,n,r){(t[T]&3)===n&&gv(t,e,n,r)}function Ru(t,e){let n=t[T];(n&3)===e&&(n&=16383,n+=1,t[T]=n)}function gv(t,e,n,r){let i=r!==void 0?t[qr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[qr]+=65536),(a<o||o==-1)&&(PE(t,n,e,c),t[qr]=(t[qr]&4294901760)+c+2),c++}function Xg(t,e){kt(4,t,e);let n=Q(null);try{e.call(t)}finally{Q(n),kt(5,t,e)}}function PE(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[T]>>14<t[qr]>>16&&(t[T]&3)===e&&(t[T]+=16384,Xg(a,o)):Xg(a,o)}var Zr=-1,rr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function LE(t){return t instanceof rr}function jE(t){return(t.flags&8)!==0}function VE(t){return(t.flags&16)!==0}function bv(t){return t!==Zr}function Oa(t){return t&32767}function BE(t){return t>>16}function Fa(t,e){let n=BE(t),r=e;for(;n>0;)r=r[ci],n--;return r}var Ju=!0;function Jg(t){let e=Ju;return Ju=t,e}var UE=256,vv=UE-1,_v=5,$E=0,Ot={};function HE(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ro)&&(r=n[ro]),r==null&&(r=n[ro]=$E++);let i=r&vv,o=1<<i;e.data[t+(i>>_v)]|=o}function Pa(t,e){let n=yv(t,e);if(n!==-1)return n;let r=e[W];r.firstCreatePass&&(t.injectorIndex=e.length,ku(r.data,t),ku(e,null),ku(r.blueprint,null));let i=Yd(t,e),o=t.injectorIndex;if(bv(i)){let s=Oa(i),a=Fa(i,e),c=a[W].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function ku(t,e){t.push(0,0,0,0,0,0,0,0,e)}function yv(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Yd(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Ev(i),r===null)return Zr;if(n++,i=i[ci],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Zr}function ed(t,e,n){HE(t,e,n)}function wv(t,e,n){if(n&V.Optional||t!==void 0)return t;kd(e,"NodeInjector")}function Cv(t,e,n,r){if(n&V.Optional&&r===void 0&&(r=null),!(n&(V.Self|V.Host))){let i=t[ni],o=ct(void 0);try{return i?i.get(e,r,n&V.Optional):Nb(e,r,n&V.Optional)}finally{ct(o)}}return wv(r,e,n)}function Dv(t,e,n,r=V.Default,i){if(t!==null){if(e[T]&2048&&!(r&V.Self)){let s=YE(t,e,n,r,Ot);if(s!==Ot)return s}let o=Iv(t,e,n,r,Ot);if(o!==Ot)return o}return Cv(e,n,r,i)}function Iv(t,e,n,r,i){let o=GE(n);if(typeof o=="function"){if(!uv(e,t,r))return r&V.Host?wv(i,n,r):Cv(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&V.Optional))kd(n);else return s}finally{pv()}}else if(typeof o=="number"){let s=null,a=yv(t,e),c=Zr,l=r&V.Host?e[Lt][xt]:null;for((a===-1||r&V.SkipSelf)&&(c=a===-1?Yd(t,e):e[a+8],c===Zr||!tb(r,!1)?a=-1:(s=e[W],a=Oa(c),e=Fa(c,e)));a!==-1;){let u=e[W];if(eb(o,a,u.data)){let d=zE(a,e,n,s,r,l);if(d!==Ot)return d}c=e[a+8],c!==Zr&&tb(r,e[W].data[a+8]===l)&&eb(o,a,e)?(s=u,a=Oa(c),e=Fa(c,e)):a=-1}}return i}function zE(t,e,n,r,i,o){let s=e[W],a=s.data[t+8],c=r==null?Ja(a)&&Ju:r!=s&&(a.type&3)!==0,l=i&V.Host&&o===a,u=WE(a,s,n,c,l);return u!==null?ii(e,s,u,a):Ot}function WE(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&Cn(h)&&h.type===n)return c}return null}function ii(t,e,n,r){let i=t[n],o=e.data;if(LE(i)){let s=i;s.resolving&&bI(gI(o[n]));let a=Jg(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?ct(s.injectImpl):null,u=uv(t,r,V.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&FE(n,o[n],e)}finally{l!==null&&ct(l),Jg(a),s.resolving=!1,pv()}}return i}function GE(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ro)?t[ro]:void 0;return typeof e=="number"?e>=0?e&vv:qE:e}function eb(t,e,n){let r=1<<t;return!!(n[e+(t>>_v)]&r)}function tb(t,e){return!(t&V.Self)&&!(t&V.Host&&e)}var Jn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Dv(this._tNode,this._lView,e,Ka(r),n)}};function qE(){return new Jn(Xe(),oe())}function ui(t){return go(()=>{let e=t.prototype.constructor,n=e[xa]||td(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[xa]||td(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function td(t){return Eb(t)?()=>{let e=td(Le(t));return e&&e()}:Xr(t)}function YE(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[T]&2048&&!(s[T]&512);){let a=Iv(o,s,n,r|V.Self,Ot);if(a!==Ot)return a;let c=o.parent;if(!c){let l=s[Kb];if(l){let u=l.get(n,Ot,r);if(u!==Ot)return u}c=Ev(s),s=s[ci]}o=c}return i}function Ev(t){let e=t[W],n=e.type;return n===2?e.declTNode:n===1?t[xt]:null}function nb(t,e=null,n=null,r){let i=xv(t,e,n,r);return i.resolveInjectorInitializers(),i}function xv(t,e=null,n=null,r,i=new Set){let o=[n||lt,GI(t)];return r=r||(typeof t=="object"?void 0:je(t)),new ao(o,e||jd(),r||null,i)}var St=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return nb({name:""},i,r,"");{let o=r.name??"";return nb({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=oo,e.NULL=new Ma,e.\u0275prov=y({token:e,providedIn:"any",factory:()=>m(Ob)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var KE="ngOriginalError";function Ou(t){return t[KE]}var Et=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ou(e);for(;n&&Ou(n);)n=Ou(n);return n||null}},Sv=new w("",{providedIn:"root",factory:()=>v(Et).handleError.bind(void 0)}),Kd=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=QE,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),nd=class extends Kd{constructor(e){super(),this._lView=e}onDestroy(e){return ov(this._lView,e),()=>bE(this._lView,e)}};function QE(){return new nd(oe())}function ZE(){return nc(Xe(),oe())}function nc(t,e){return new Ve(dt(t,e))}var Ve=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=ZE;let t=e;return t})();var rd=class extends ce{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Yb()&&(this.destroyRef=v(Kd,{optional:!0})??void 0)}emit(e){let n=Q(null);try{super.next(e)}finally{Q(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Fu(o),i&&(i=Fu(i)),s&&(s=Fu(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof pe&&e.add(a),a}};function Fu(t){return e=>{setTimeout(t,void 0,e)}}var ue=rd;function Tv(t){return(t.flags&128)===128}var Mv=new Map,XE=0;function JE(){return XE++}function ex(t){Mv.set(t[Xa],t)}function tx(t){Mv.delete(t[Xa])}var rb="__ngContext__";function ir(t,e){Xn(e)?(t[rb]=e[Xa],ex(e)):t[rb]=e}function Av(t){return Rv(t[lo])}function Nv(t){return Rv(t[Dt])}function Rv(t){for(;t!==null&&!rn(t);)t=t[Dt];return t}var id;function kv(t){id=t}function nx(){if(id!==void 0)return id;if(typeof document<"u")return document;throw new C(210,!1)}var _o=new w("",{providedIn:"root",factory:()=>rx}),rx="ng",Qd=new w(""),Re=new w("",{providedIn:"platform",factory:()=>"unknown"});var yo=new w("",{providedIn:"root",factory:()=>nx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ix="h",ox="b";var sx=()=>null;function Zd(t,e,n=!1){return sx(t,e,n)}var Ov=!1,ax=new w("",{providedIn:"root",factory:()=>Ov});var od=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sI})`}};function Xd(t){return t instanceof od?t.changingThisBreaksApplicationSecurity:t}function Fv(t){return t instanceof Function?t():t}function cx(t){return(t??v(St)).get(Re)==="browser"}var en=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(en||{}),lx;function Jd(t,e){return lx(t,e)}function Yr(t,e,n,r,i){if(r!=null){let o,s=!1;rn(r)?o=r:Xn(r)&&(s=!0,r=r[nn]);let a=jt(r);t===0&&n!==null?i==null?Bv(e,n,a):La(e,n,a,i||null,!0):t===1&&n!==null?La(e,n,a,i||null,!0):t===2?xx(e,a,s):t===3&&e.destroyNode(a),o!=null&&Tx(e,t,o,n,i)}}function ux(t,e){return t.createText(e)}function dx(t,e,n){t.setValue(e,n)}function Pv(t,e,n){return t.createElement(e,n)}function fx(t,e){Lv(t,e),e[nn]=null,e[xt]=null}function hx(t,e,n,r,i,o){r[nn]=i,r[xt]=e,rc(t,r,n,1,i,o)}function Lv(t,e){e[Pt].changeDetectionScheduler?.notify(1),rc(t,e,e[ve],2,null,null)}function px(t){let e=t[lo];if(!e)return Pu(t[W],t);for(;e;){let n=null;if(Xn(e))n=e[lo];else{let r=e[ut];r&&(n=r)}if(!n){for(;e&&!e[Dt]&&e!==t;)Xn(e)&&Pu(e[W],e),e=e[Ne];e===null&&(e=t),Xn(e)&&Pu(e[W],e),n=e&&e[Dt]}e=n}}function mx(t,e,n,r){let i=ut+r,o=n.length;r>0&&(n[i-1][Dt]=e),r<o-ut?(e[Dt]=n[i],kb(n,ut+r,e)):(n.push(e),e[Dt]=null),e[Ne]=n;let s=e[Za];s!==null&&n!==s&&gx(s,e);let a=e[ri];a!==null&&a.insertView(t),Zu(e),e[T]|=128}function gx(t,e){let n=t[Ra],i=e[Ne][Ne][Lt];e[Lt]!==i&&(t[T]|=Vd.HasTransplantedViews),n===null?t[Ra]=[e]:n.push(e)}function jv(t,e){let n=t[Ra],r=n.indexOf(e);n.splice(r,1)}function sd(t,e){if(t.length<=ut)return;let n=ut+e,r=t[n];if(r){let i=r[Za];i!==null&&i!==t&&jv(i,r),e>0&&(t[n-1][Dt]=r[Dt]);let o=Ta(t,ut+e);fx(r[W],r);let s=o[ri];s!==null&&s.detachView(o[W]),r[Ne]=null,r[Dt]=null,r[T]&=-129}return r}function Vv(t,e){if(!(e[T]&256)){let n=e[ve];n.destroyNode&&rc(t,e,n,3,null,null),px(e)}}function Pu(t,e){if(e[T]&256)return;let n=Q(null);try{e[T]&=-129,e[T]|=256,e[er]&&vg(e[er]),vx(t,e),bx(t,e),e[W].type===1&&e[ve].destroy();let r=e[Za];if(r!==null&&rn(e[Ne])){r!==e[Ne]&&jv(r,e);let i=e[ri];i!==null&&i.detachView(t)}tx(e)}finally{Q(n)}}function bx(t,e){let n=t.cleanup,r=e[co];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[co]=null);let i=e[_n];if(i!==null){e[_n]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function vx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof rr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];kt(4,a,c);try{c.call(a)}finally{kt(5,a,c)}}else{kt(4,i,o);try{o.call(i)}finally{kt(5,i,o)}}}}}function _x(t,e,n){return yx(t,e.parent,n)}function yx(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[nn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ft.None||o===Ft.Emulated)return null}return dt(r,n)}}function La(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Bv(t,e,n){t.appendChild(e,n)}function ib(t,e,n,r,i){r!==null?La(t,e,n,r,i):Bv(t,e,n)}function wx(t,e,n,r){t.removeChild(e,n,r)}function ef(t,e){return t.parentNode(e)}function Cx(t,e){return t.nextSibling(e)}function Dx(t,e,n){return Ex(t,e,n)}function Ix(t,e,n){return t.type&40?dt(t,n):null}var Ex=Ix,ob;function tf(t,e,n,r){let i=_x(t,r,e),o=e[ve],s=r.parent||e[xt],a=Dx(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)ib(o,i,n[c],a,!1);else ib(o,i,n,a,!1);ob!==void 0&&ob(o,r,e,n,i)}function Ia(t,e){if(e!==null){let n=e.type;if(n&3)return dt(e,t);if(n&4)return ad(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ia(t,r);{let i=t[e.index];return rn(i)?ad(-1,i):jt(i)}}else{if(n&32)return Jd(e,t)()||jt(t[e.index]);{let r=Uv(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=fo(t[Lt]);return Ia(i,r)}else return Ia(t,e.next)}}}return null}function Uv(t,e){if(e!==null){let r=t[Lt][xt],i=e.projection;return r.projection[i]}return null}function ad(t,e){let n=ut+t+1;if(n<e.length){let r=e[n],i=r[W].firstChild;if(i!==null)return Ia(r,i)}return e[tr]}function xx(t,e,n){let r=ef(t,e);r&&wx(t,r,e,n)}function nf(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&ir(jt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)nf(t,e,n.child,r,i,o,!1),Yr(e,t,i,a,o);else if(c&32){let l=Jd(n,r),u;for(;u=l();)Yr(e,t,i,u,o);Yr(e,t,i,a,o)}else c&16?Sx(t,e,r,n,i,o):Yr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function rc(t,e,n,r,i,o){nf(n,r,t.firstChild,e,i,o,!1)}function Sx(t,e,n,r,i,o){let s=n[Lt],c=s[xt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Yr(e,t,i,u,o)}else{let l=c,u=s[Ne];Tv(r)&&(l.flags|=128),nf(t,e,l,u,i,o,!0)}}function Tx(t,e,n,r,i){let o=n[tr],s=jt(n);o!==s&&Yr(e,t,r,o,i);for(let a=ut;a<n.length;a++){let c=n[a];rc(c[W],c,t,e,r,o)}}function Mx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:en.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=en.Important),t.setStyle(n,r,i,o))}}function Ax(t,e,n){t.setAttribute(e,"style",n)}function $v(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Hv(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Gu(t,e,r),i!==null&&$v(t,e,i),o!==null&&Ax(t,e,o)}var cr={};function Me(t=1){zv(qe(),oe(),li()+t,!1)}function zv(t,e,n,r){if(!r)if((e[T]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ca(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Da(e,o,0,n)}nr(n)}function B(t,e=V.Default){let n=oe();if(n===null)return m(t,e);let r=Xe();return Dv(r,n,Le(t),e)}function rf(){let t="invalid";throw new Error(t)}function Wv(t,e,n,r,i,o){let s=Q(null);try{let a=null;i&Te.SignalBased&&(a=e[r][iu]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Te.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Xb(e,a,r,o)}finally{Q(s)}}function Nx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)nr(~i);else{let o=i,s=n[++r],a=n[++r];ME(s,o);let c=e[o];a(2,c)}}}finally{nr(-1)}}function ic(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[nn]=i,d[T]=r|4|128|8|64,(l!==null||t&&t[T]&2048)&&(d[T]|=2048),iv(d),d[Ne]=d[ci]=t,d[It]=n,d[Pt]=s||t&&t[Pt],d[ve]=a||t&&t[ve],d[ni]=c||t&&t[ni]||null,d[xt]=o,d[Xa]=JE(),d[Aa]=u,d[Kb]=l,d[Lt]=e.type==2?t[Lt]:d,d}function oc(t,e,n,r,i){let o=t.data[e];if(o===null)o=Rx(t,e,n,r,i),TE()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=IE();o.injectorIndex=s===null?-1:s.injectorIndex}return vo(o,!0),o}function Rx(t,e,n,r,i){let o=av(),s=cv(),a=s?o:o&&o.parent,c=t.data[e]=Lx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function Gv(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qv(t,e,n,r,i){let o=li(),s=r&2;try{nr(-1),s&&e.length>wn&&zv(t,e,wn,!1),kt(s?2:0,i),n(r,i)}finally{nr(o),kt(s?3:1,i)}}function Yv(t,e,n){if(Zb(e)){let r=Q(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Q(r)}}}function Kv(t,e,n){sv()&&(Hx(t,e,n,dt(n,e)),(n.flags&64)===64&&e_(t,e,n))}function Qv(t,e,n=dt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Zv(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=of(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function of(t,e,n,r,i,o,s,a,c,l,u){let d=wn+r,f=d+i,h=kx(d,f),p=typeof l=="function"?l():l;return h[W]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function kx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:cr);return n}function Ox(t,e,n,r){let o=r.get(ax,Ov)||n===Ft.ShadowDom,s=t.selectRootElement(e,o);return Fx(s),s}function Fx(t){Px(t)}var Px=()=>null;function Lx(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return wE()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function sb(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Te.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?ab(r,n,l,a,c):ab(r,n,l,a)}return r}function ab(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function jx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=sb(0,d.inputs,u,c,h),l=sb(1,d.outputs,u,l,p);let b=c!==null&&s!==null&&!Pd(e)?eS(c,u,s):null;a.push(b)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function Vx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function sf(t,e,n,r,i,o,s,a){let c=dt(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(af(t,n,u,r,i),Ja(e)&&Bx(n,e.index)):e.type&3?(r=Vx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function Bx(t,e){let n=En(e,t);n[T]&16||(n[T]|=64)}function Xv(t,e,n,r){if(sv()){let i=r===null?null:{"":-1},o=Wx(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Jv(t,e,n,s,i,a),i&&Gx(n,r,i)}n.mergedAttrs=so(n.mergedAttrs,n.attrs)}function Jv(t,e,n,r,i,o){for(let l=0;l<r.length;l++)ed(Pa(n,e),t,r[l].type);Yx(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Gv(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=so(n.mergedAttrs,u.hostAttrs),Kx(t,n,e,c,u),qx(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}jx(t,n,o)}function Ux(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;$x(s)!=a&&s.push(a),s.push(n,r,o)}}function $x(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Hx(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Ja(n)&&Qx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Pa(n,e),ir(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=ii(e,t,a,n);if(ir(l,e),s!==null&&Jx(e,a-i,l,c,n,s),Cn(c)){let u=En(n.index,e);u[It]=ii(e,t,a,n)}}}function e_(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=AE();try{nr(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Xu(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&zx(c,l)}}finally{nr(-1),Xu(s)}}function zx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Wx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(LI(e,s.selectors,!1))if(r||(r=[]),Cn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;cd(t,e,c)}else r.unshift(s),cd(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function cd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Gx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new C(-301,!1);r.push(e[i],o)}}}function qx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Cn(e)&&(n[""]=t)}}function Yx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Kx(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Xr(i.type,!0)),s=new rr(o,Cn(i),B);t.blueprint[r]=s,n[r]=s,Ux(t,e,r,Gv(t,n,i.hostVars,cr),i)}function Qx(t,e,n){let r=dt(e,t),i=Zv(n),o=t[Pt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=sc(t,ic(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Zx(t,e,n,r,i,o){let s=dt(t,e);Xx(e[ve],s,o,t.value,n,r,i)}function Xx(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Rd(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function Jx(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];Wv(r,n,c,l,u,d)}}function eS(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function t_(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function n_(t,e){let n=t.contentQueries;if(n!==null){let r=Q(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];lv(o),a.contentQueries(2,e[s],s)}}}finally{Q(r)}}}function sc(t,e){return t[lo]?t[Qg][Dt]=e:t[lo]=e,t[Qg]=e,e}function ld(t,e,n){lv(0);let r=Q(null);try{e(t,n)}finally{Q(r)}}function tS(t){return t[co]||(t[co]=[])}function nS(t){return t.cleanup||(t.cleanup=[])}function r_(t,e){let n=t[ni],r=n?n.get(Et,null):null;r&&r.handleError(e)}function af(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];Wv(u,l,r,a,c,i)}}function rS(t,e,n){let r=nv(e,t);dx(t[ve],r,n)}function iS(t,e){let n=En(e,t),r=n[W];oS(r,n);let i=n[nn];i!==null&&n[Aa]===null&&(n[Aa]=Zd(i,n[ni])),cf(r,n,n[It])}function oS(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function cf(t,e,n){Hd(e);try{let r=t.viewQuery;r!==null&&ld(1,r,n);let i=t.template;i!==null&&qv(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ri]?.finishViewCreation(t),t.staticContentQueries&&n_(t,e),t.staticViewQueries&&ld(2,t.viewQuery,n);let o=t.components;o!==null&&sS(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[T]&=-5,zd()}}function sS(t,e){for(let n=0;n<e.length;n++)iS(t,e[n])}function aS(t,e,n,r){let i=Q(null);try{let o=e.tView,a=t[T]&4096?4096:16,c=ic(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Za]=l;let u=t[ri];return u!==null&&(c[ri]=u.createEmbeddedView(o)),cf(o,c,n),c}finally{Q(i)}}function cb(t,e){return!e||e.firstChild===null||Tv(t)}function cS(t,e,n,r=!0){let i=e[W];if(mx(i,e,t,n),r){let s=ad(n,t),a=e[ve],c=ef(a,t[tr]);c!==null&&hx(i,t[xt],a,e,c,s)}let o=e[Aa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ja(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(jt(o)),rn(o)&&lS(o,r);let s=n.type;if(s&8)ja(t,e,n.child,r);else if(s&32){let a=Jd(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Uv(e,n);if(Array.isArray(a))r.push(...a);else{let c=fo(e[Lt]);ja(c[W],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function lS(t,e){for(let n=ut;n<t.length;n++){let r=t[n],i=r[W].firstChild;i!==null&&ja(r[W],r,i,e)}t[tr]!==t[nn]&&e.push(t[tr])}var i_=[];function uS(t){return t[er]??dS(t)}function dS(t){let e=i_.pop()??Object.create(hS);return e.lView=t,e}function fS(t){t.lView[er]!==t&&(t.lView=null,i_.push(t))}var hS=K(_({},mg),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{uo(t.lView)},consumerOnSignalRead(){this.lView[er]=this}}),o_=100;function s_(t,e=!0,n=0){let r=t[Pt],i=r.rendererFactory,o=!1;o||i.begin?.();try{pS(t,n)}catch(s){throw e&&r_(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function pS(t,e){ud(t,e);let n=0;for(;$d(t);){if(n===o_)throw new C(103,!1);n++,ud(t,1)}}function mS(t,e,n,r){let i=e[T];if((i&256)===256)return;let o=!1;!o&&e[Pt].inlineEffectRunner?.flush(),Hd(e);let s=null,a=null;!o&&gS(t)&&(a=uS(e),s=gg(a));try{iv(e),xE(t.bindingStartIndex),n!==null&&qv(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Ca(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Da(e,d,0,null),Ru(e,0)}if(bS(e),a_(e,0),t.contentQueries!==null&&n_(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Ca(e,d)}else{let d=t.contentHooks;d!==null&&Da(e,d,1),Ru(e,1)}Nx(t,e);let l=t.components;l!==null&&l_(e,l,0);let u=t.viewQuery;if(u!==null&&ld(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&Ca(e,d)}else{let d=t.viewHooks;d!==null&&Da(e,d,2),Ru(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Nu]){for(let d of e[Nu])d();e[Nu]=null}o||(e[T]&=-73)}catch(c){throw uo(e),c}finally{a!==null&&(bg(a,s),fS(a)),zd()}}function gS(t){return t.type!==2}function a_(t,e){for(let n=Av(t);n!==null;n=Nv(n))for(let r=ut;r<n.length;r++){let i=n[r];c_(i,e)}}function bS(t){for(let e=Av(t);e!==null;e=Nv(e)){if(!(e[T]&Vd.HasTransplantedViews))continue;let n=e[Ra];for(let r=0;r<n.length;r++){let i=n[r],o=i[Ne];mE(i)}}}function vS(t,e,n){let r=En(e,t);c_(r,n)}function c_(t,e){Ud(t)&&ud(t,e)}function ud(t,e){let r=t[W],i=t[T],o=t[er],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ou(o)),o&&(o.dirty=!1),t[T]&=-9217,s)mS(r,t,r.template,t[It]);else if(i&8192){a_(t,1);let a=r.components;a!==null&&l_(t,a,1)}}function l_(t,e,n){for(let r=0;r<e.length;r++)vS(t,e[r],n)}function lf(t){for(t[Pt].changeDetectionScheduler?.notify();t;){t[T]|=64;let e=fo(t);if(sE(t)&&!e)return t;t=e}return null}var or=class{get rootNodes(){let e=this._lView,n=e[W];return ja(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[It]}set context(e){this._lView[It]=e}get destroyed(){return(this._lView[T]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ne];if(rn(e)){let n=e[Na],r=n?n.indexOf(this):-1;r>-1&&(sd(e,r),Ta(n,r))}this._attachedToViewContainer=!1}Vv(this._lView[W],this._lView)}onDestroy(e){ov(this._lView,e)}markForCheck(){lf(this._cdRefInjectingView||this._lView)}detach(){this._lView[T]&=-129}reattach(){Zu(this._lView),this._lView[T]|=128}detectChanges(){this._lView[T]|=1024,s_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Lv(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e,Zu(this._lView)}},ac=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wS;let t=e;return t})(),_S=ac,yS=class extends _S{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=aS(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new or(i)}};function wS(){return CS(Xe(),oe())}function CS(t,e){return t.type&4?new yS(e,t,nc(t,e)):null}var LU=new RegExp(`^(\\d+)*(${ox}|${ix})*(.*)`);var DS=()=>null;function lb(t,e){return DS(t,e)}var Va=class{},dd=class{},Ba=class{};function IS(t){let e=Error(`No component factory found for ${je(t)}.`);return e[ES]=t,e}var ES="ngComponent";var fd=class{resolveComponentFactory(e){throw IS(e)}},cc=(()=>{let e=class e{};e.NULL=new fd;let t=e;return t})(),ho=class{},di=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>xS();let t=e;return t})();function xS(){let t=oe(),e=Xe(),n=En(e.index,t);return(Xn(n)?n:t)[ve]}var SS=(()=>{let e=class e{};e.\u0275prov=y({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Lu={};var ub=new Set;function uf(t){ub.has(t)||(ub.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function db(...t){}function TS(){let t=typeof Qe.requestAnimationFrame=="function",e=Qe[t?"requestAnimationFrame":"setTimeout"],n=Qe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var F=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ue(!1),this.onMicrotaskEmpty=new ue(!1),this.onStable=new ue(!1),this.onError=new ue(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=TS().nativeRequestAnimationFrame,NS(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,MS,db,db);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},MS={};function df(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function AS(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Qe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hd(t),t.isCheckStableRunning=!0,df(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hd(t))}function NS(t){let e=()=>{AS(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(RS(a))return n.invokeTask(i,o,s,a);try{return fb(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),hb(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return fb(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),hb(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,hd(t),df(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function hd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hb(t){t._nesting--,df(t)}var pd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ue,this.onMicrotaskEmpty=new ue,this.onStable=new ue,this.onError=new ue}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function RS(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function kS(t="zone.js",e){return t==="noop"?new pd:t==="zone.js"?new F(e):t}var Kr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Kr||{}),OS={destroy(){}};function lc(t,e){!e&&rE(lc);let n=e?.injector??v(St);if(!cx(n))return OS;uf("NgAfterNextRender");let r=n.get(ff),i=r.handler??=new gd,o=e?.phase??Kr.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(Kd).onDestroy(s),c=tn(n,()=>new md(o,()=>{s(),t()}));return i.register(c),{destroy:s}}var md=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=v(F),this.errorHandler=v(Et,{optional:!0}),v(Va,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},gd=class{constructor(){this.executingCallbacks=!1,this.buckets={[Kr.EarlyRead]:new Set,[Kr.Write]:new Set,[Kr.MixedReadWrite]:new Set,[Kr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},ff=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=y({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function bd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Bg(i,a);else if(o==2){let c=a,l=e[++s];r=Bg(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ua=class extends cc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=yn(e);return new oi(n,this.ngModule)}};function pb(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function FS(t){let e=t.toLowerCase();return e==="svg"?uE:e==="math"?dE:null}var vd=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ka(r);let i=this.injector.get(e,Lu,r);return i!==Lu||n===Lu?i:this.parentInjector.get(e,n,r)}},oi=class extends Ba{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=pb(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return pb(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=UI(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Q(null);try{i=i||this.ngModule;let s=i instanceof Ge?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new vd(e,s):e,c=a.get(ho,null);if(c===null)throw new C(407,!1);let l=a.get(SS,null),u=a.get(ff,null),d=a.get(Va,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",b=r?Ox(h,r,this.componentDef.encapsulation,a):Pv(h,p,FS(p)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let E=null;b!==null&&(E=Zd(b,a,!0));let Y=of(0,null,null,1,0,null,null,null,null,null,null),O=ic(null,Y,null,D,null,null,f,h,a,null,E);Hd(O);let he,He;try{let vt=this.componentDef,Mr,Jl=null;vt.findHostDirectiveDefs?(Mr=[],Jl=new Map,vt.findHostDirectiveDefs(vt,Mr,Jl),Mr.push(vt)):Mr=[vt];let RD=PS(O,b),kD=LS(RD,b,vt,Mr,O,f,h);He=rv(Y,wn),b&&BS(h,vt,b,r),n!==void 0&&US(He,this.ngContentSelectors,n),he=VS(kD,vt,Mr,Jl,O,[$S]),cf(Y,O,null)}finally{zd()}return new _d(this.componentType,he,nc(He,O),O,He)}finally{Q(o)}}},_d=class extends dd{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new or(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;af(o[W],o,i,e,n),this.previousInputValues.set(e,n);let s=En(this._tNode.index,o);lf(s)}}get injector(){return new Jn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function PS(t,e){let n=t[W],r=wn;return t[r]=e,oc(n,r,2,"#host",null)}function LS(t,e,n,r,i,o,s){let a=i[W];jS(r,t,e,s);let c=null;e!==null&&(c=Zd(e,i[ni]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=ic(i,Zv(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&cd(a,t,r.length-1),sc(i,d),i[t.index]=d}function jS(t,e,n,r){for(let i of t)e.mergedAttrs=so(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(bd(e,e.mergedAttrs,!0),n!==null&&Hv(r,n,e))}function VS(t,e,n,r,i,o){let s=Xe(),a=i[W],c=dt(s,i);Jv(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=ii(i,a,d,s);ir(f,i)}e_(a,i,s),c&&ir(c,i);let l=ii(i,a,s.directiveStart+s.componentOffset,s);if(t[It]=i[It]=l,o!==null)for(let u of o)u(l,e);return Yv(a,s,i),l}function BS(t,e,n,r){if(r)Gu(t,n,["ng-version","17.3.9"]);else{let{attrs:i,classes:o}=$I(e.selectors[0]);i&&Gu(t,n,i),o&&o.length>0&&$v(t,n,o.join(" "))}}function US(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function $S(){let t=Xe();qd(oe()[W],t)}var fi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HS;let t=e;return t})();function HS(){let t=Xe();return WS(t,oe())}var zS=fi,u_=class extends zS{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return nc(this._hostTNode,this._hostLView)}get injector(){return new Jn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Yd(this._hostTNode,this._hostLView);if(bv(e)){let n=Fa(e,this._hostLView),r=Oa(e),i=n[W].data[r+8];return new Jn(i,n)}else return new Jn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=mb(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ut}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=lb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,cb(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!oE(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let c=s?e:new oi(yn(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let b=(s?l:this.parentInjector).get(Ge,null);b&&(o=b)}let u=yn(c.componentType??{}),d=lb(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,cb(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(pE(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ne],l=new u_(c,c[xt],c[Ne]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return cS(s,i,o,r),e.attachToViewContainerRef(),kb(ju(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=mb(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=sd(this._lContainer,n);r&&(Ta(ju(this._lContainer),n),Vv(r[W],r))}detach(e){let n=this._adjustIndex(e,-1),r=sd(this._lContainer,n);return r&&Ta(ju(this._lContainer),n)!=null?new or(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function mb(t){return t[Na]}function ju(t){return t[Na]||(t[Na]=[])}function WS(t,e){let n,r=e[t.index];return rn(r)?n=r:(n=t_(r,e,null,t),e[t.index]=n,sc(e,n)),qS(n,e,t,r),new u_(n,t,e)}function GS(t,e){let n=t[ve],r=n.createComment(""),i=dt(e,t),o=ef(n,i);return La(n,o,r,Cx(n,i),!1),r}var qS=QS,YS=()=>!1;function KS(t,e,n){return YS(t,e,n)}function QS(t,e,n,r){if(t[tr])return;let i;n.type&8?i=jt(r):i=GS(e,n),t[tr]=i}function d_(t){return typeof t=="function"&&t[iu]!==void 0}function f_(t){return d_(t)&&typeof t.set=="function"}function ZS(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(tT))}return o}return $a.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,f)=>{a.push(""),s.push(r(d).then(h=>{a[l+f]=h,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>nT(o));e.push(c)}),JS(),Promise.all(e).then(()=>{})}var $a=new Map,XS=new Set;function JS(){let t=$a;return $a=new Map,t}function eT(){return $a.size===0}function tT(t){return typeof t=="string"?t:t.text()}function nT(t){XS.delete(t)}function rT(t){return Object.getPrototypeOf(t.prototype).constructor}function Bt(t){let e=rT(t.type),n=!0,r=[t];for(;e;){let i;if(Cn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=va(t.inputs),s.inputTransforms=va(t.inputTransforms),s.declaredInputs=va(t.declaredInputs),s.outputs=va(t.outputs);let a=i.hostBindings;a&&cT(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&sT(t,c),l&&aT(t,l),iT(t,i),cI(t.outputs,i.outputs),Cn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Bt&&(n=!1)}}e=Object.getPrototypeOf(e)}oT(r)}function iT(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function oT(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=so(i.hostAttrs,n=so(n,i.hostAttrs))}}function va(t){return t===Jr?{}:t===lt?[]:t}function sT(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function aT(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function cT(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Dn=class{},po=class{};var Ha=class extends Dn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ua(this);let i=Ub(e);this._bootstrapComponents=Fv(i.bootstrap),this._r3Injector=xv(e,n,[{provide:Dn,useValue:this},{provide:cc,useValue:this.componentFactoryResolver},...r],je(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},za=class extends po{constructor(e){super(),this.moduleType=e}create(e){return new Ha(this.moduleType,e,[])}};function lT(t,e,n){return new Ha(t,e,n)}var yd=class extends Dn{constructor(e){super(),this.componentFactoryResolver=new Ua(this),this.instance=null;let n=new ao([...e.providers,{provide:Dn,useValue:this},{provide:cc,useValue:this.componentFactoryResolver}],e.parent||jd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function uc(t,e,n=null){return new yd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var dc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Se(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function h_(t){return dT(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function uT(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function dT(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function wo(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function fT(t){return(t.flags&32)===32}function hT(t,e,n,r,i,o,s,a,c){let l=e.consts,u=oc(e,t,4,s||null,ka(l,a));Xv(e,n,u,ka(l,c)),qd(e,u);let d=u.tView=of(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function hi(t,e,n,r,i,o,s,a){let c=oe(),l=qe(),u=t+wn,d=l.firstCreatePass?hT(u,l,c,e,n,r,i,o,s):l.data[u];vo(d,!1);let f=pT(l,c,d,t);Wd()&&tf(l,c,f,d),ir(f,c);let h=t_(f,c,f,d);return c[u]=h,sc(c,h),KS(h,d,c),Bd(d)&&Kv(l,c,d),s!=null&&Qv(c,d,a),hi}var pT=mT;function mT(t,e,n,r){return Gd(!0),e[ve].createComment("")}function Tn(t,e,n,r){let i=oe(),o=ec();if(wo(i,o,e)){let s=qe(),a=tc();Zx(a,i,t,e,n,r)}return Tn}function p_(t,e,n,r){return wo(t,ec(),n)?e+Rd(n)+r:cr}function _a(t,e){return t<<17|e<<2}function sr(t){return t>>17&32767}function gT(t){return(t&2)==2}function bT(t,e){return t&131071|e<<17}function wd(t){return t|2}function si(t){return(t&131068)>>2}function Vu(t,e){return t&-131069|e<<2}function vT(t){return(t&1)===1}function Cd(t){return t|1}function _T(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=sr(s),c=si(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||bo(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=sr(t[a+1]);t[r+1]=_a(f,a),f!==0&&(t[f+1]=Vu(t[f+1],r)),t[a+1]=bT(t[a+1],r)}else t[r+1]=_a(a,0),a!==0&&(t[a+1]=Vu(t[a+1],r)),a=r;else t[r+1]=_a(c,0),a===0?a=r:t[c+1]=Vu(t[c+1],r),c=r;l&&(t[r+1]=wd(t[r+1])),gb(t,u,r,!0),gb(t,u,r,!1),yT(e,u,t,r,o),s=_a(a,c),o?e.classBindings=s:e.styleBindings=s}function yT(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&bo(o,e)>=0&&(n[r+1]=Cd(n[r+1]))}function gb(t,e,n,r){let i=t[n+1],o=e===null,s=r?sr(i):si(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];wT(c,e)&&(a=!0,t[s+1]=r?Cd(l):wd(l)),s=r?sr(l):si(l)}a&&(t[n+1]=r?wd(i):Cd(i))}function wT(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?bo(t,e)>=0:!1}function Mn(t,e,n){let r=oe(),i=ec();if(wo(r,i,e)){let o=qe(),s=tc();sf(o,s,r,t,e,r[ve],n,!1)}return Mn}function bb(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";af(t,n,o[s],s,r)}function on(t,e){return CT(t,e,null,!0),on}function CT(t,e,n,r){let i=oe(),o=qe(),s=SE(2);if(o.firstUpdatePass&&IT(o,t,s,r),e!==cr&&wo(i,s,e)){let a=o.data[li()];MT(o,a,i,i[ve],t,i[s+1]=AT(e,n),r,s)}}function DT(t,e){return e>=t.expandoStartIndex}function IT(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[li()],s=DT(t,n);NT(o,r)&&e===null&&!s&&(e=!1),e=ET(i,o,e,r),_T(i,o,e,n,s,r)}}function ET(t,e,n,r){let i=NE(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Bu(null,t,e,n,r),n=mo(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Bu(i,t,e,n,r),o===null){let c=xT(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Bu(null,t,e,c[1],r),c=mo(c,e.attrs,r),ST(t,e,r,c))}else o=TT(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function xT(t,e,n){let r=n?e.classBindings:e.styleBindings;if(si(r)!==0)return t[sr(r)]}function ST(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[sr(i)]=r}function TT(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=mo(r,s,n)}return mo(r,e.attrs,n)}function Bu(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=mo(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function mo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),TI(t,s,n?!0:e[++o]))}return t===void 0?null:t}function MT(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=vT(l)?vb(c,e,n,i,si(l),s):void 0;if(!Wa(u)){Wa(o)||gT(l)&&(o=vb(c,null,n,i,a,s));let d=nv(li(),n);Mx(r,s,d,i,o)}}function vb(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===cr&&(f=d?lt:void 0);let h=d?Mu(f,r):u===r?f:void 0;if(l&&!Wa(h)&&(h=Mu(c,r)),Wa(h)&&(a=h,s))return a;let p=t[i+1];i=s?sr(p):si(p)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Mu(c,r))}return a}function Wa(t){return t!==void 0}function AT(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=je(Xd(t)))),t}function NT(t,e){return(t.flags&(e?8:16))!==0}function RT(t,e,n,r,i,o){let s=e.consts,a=ka(s,i),c=oc(e,t,2,r,a);return Xv(e,n,c,ka(s,o)),c.attrs!==null&&bd(c,c.attrs,!1),c.mergedAttrs!==null&&bd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function re(t,e,n,r){let i=oe(),o=qe(),s=wn+t,a=i[ve],c=o.firstCreatePass?RT(s,o,i,e,n,r):o.data[s],l=kT(o,i,c,a,e,t);i[s]=l;let u=Bd(c);return vo(c,!0),Hv(a,l,c),!fT(c)&&Wd()&&tf(o,i,l,c),vE()===0&&ir(l,i),_E(),u&&(Kv(o,i,c),Yv(o,c,i)),r!==null&&Qv(i,c),re}function Z(){let t=Xe();cv()?EE():(t=t.parent,vo(t,!1));let e=t;CE(e)&&DE(),yE();let n=qe();return n.firstCreatePass&&(qd(n,t),Zb(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&jE(e)&&bb(n,e,oe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&VE(e)&&bb(n,e,oe(),e.stylesWithoutHost,!1),Z}function Ut(t,e,n,r){return re(t,e,n,r),Z(),Ut}var kT=(t,e,n,r,i,o)=>(Gd(!0),Pv(r,i,OE()));function fc(){return oe()}var Ga="en-US";var OT=Ga;function FT(t){typeof t=="string"&&(OT=t.toLowerCase().replace(/_/g,"-"))}function ft(t,e,n,r){let i=oe(),o=qe(),s=Xe();return m_(o,i,i[ve],s,t,e,r),ft}function PT(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[co],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function m_(t,e,n,r,i,o,s){let a=Bd(r),l=t.firstCreatePass&&nS(t),u=e[It],d=tS(e),f=!0;if(r.type&3||s){let b=dt(r,e),D=s?s(b):b,E=d.length,Y=s?he=>s(jt(he[r.index])):r.index,O=null;if(!s&&a&&(O=PT(t,e,i,r.index)),O!==null){let he=O.__ngLastListenerFn__||O;he.__ngNextListenerFn__=o,O.__ngLastListenerFn__=o,f=!1}else{o=yb(r,e,u,o,!1);let he=n.listen(D,i,o);d.push(o,he),l&&l.push(i,Y,E,E+1)}}else o=yb(r,e,u,o,!1);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let b=p.length;if(b)for(let D=0;D<b;D+=2){let E=p[D],Y=p[D+1],He=e[E][Y].subscribe(o),vt=d.length;d.push(o,He),l&&l.push(i,r.index,vt,-(vt+1))}}}function _b(t,e,n,r){let i=Q(null);try{return kt(6,e,n),n(r)!==!1}catch(o){return r_(t,o),!1}finally{kt(7,e,n),Q(i)}}function yb(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?En(t.index,e):e;lf(a);let c=_b(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=_b(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function pi(t=1){return kE(t)}function hf(t,e,n){return g_(t,"",e,"",n),hf}function g_(t,e,n,r,i){let o=oe(),s=p_(o,e,n,r);if(s!==cr){let a=qe(),c=tc();sf(a,c,o,t,s,o[ve],i,!1)}return g_}function me(t,e=""){let n=oe(),r=qe(),i=t+wn,o=r.firstCreatePass?oc(r,i,1,e,null):r.data[i],s=LT(r,n,o,e,t);n[i]=s,Wd()&&tf(r,n,s,o),vo(o,!1)}var LT=(t,e,n,r,i)=>(Gd(!0),ux(e[ve],r));function hc(t){return $t("",t,""),hc}function $t(t,e,n){let r=oe(),i=p_(r,t,e,n);return i!==cr&&rS(r,li(),i),$t}function pc(t,e,n){f_(e)&&(e=e());let r=oe(),i=ec();if(wo(r,i,e)){let o=qe(),s=tc();sf(o,s,r,t,e,r[ve],n,!1)}return pc}function pf(t,e){let n=f_(t);return n&&t.set(e),n}function mc(t,e){let n=oe(),r=qe(),i=Xe();return m_(r,n,n[ve],i,t,e),mc}function jT(t,e,n){let r=qe();if(r.firstCreatePass){let i=Cn(t);Dd(n,r.data,r.blueprint,i,!0),Dd(e,r.data,r.blueprint,i,!1)}}function Dd(t,e,n,r,i){if(t=Le(t),Array.isArray(t))for(let o=0;o<t.length;o++)Dd(t[o],e,n,r,i);else{let o=qe(),s=oe(),a=Xe(),c=ti(t)?t:Le(t.provide),l=qb(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(ti(t)||!t.multi){let h=new rr(l,i,B),p=$u(c,e,i?u:u+f,d);p===-1?(ed(Pa(a,s),o,c),Uu(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=$u(c,e,u+f,d),p=$u(c,e,u,u+f),b=h>=0&&n[h],D=p>=0&&n[p];if(i&&!D||!i&&!b){ed(Pa(a,s),o,c);let E=UT(i?BT:VT,n.length,i,r,l);!i&&D&&(n[p].providerFactory=E),Uu(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),s.push(E)}else{let E=b_(n[i?p:h],l,!i&&r);Uu(o,t,h>-1?h:p,E)}!i&&r&&D&&n[p].componentProviders++}}}function Uu(t,e,n,r){let i=ti(e),o=QI(e);if(i||o){let c=(o?Le(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function b_(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $u(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function VT(t,e,n,r){return Id(this.multi,[])}function BT(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ii(n,n[W],this.providerFactory.index,r);o=a.slice(0,s),Id(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Id(i,o);return o}function Id(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function UT(t,e,n,r,i){let o=new rr(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,b_(o,i,r&&!n),o}function lr(t,e=[]){return n=>{n.providersResolver=(r,i)=>jT(r,i?i(t):t,e)}}var $T=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=zb(!1,r.type),o=i.length>0?uc([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=y({token:e,providedIn:"environment",factory:()=>new e(m(Ge))});let t=e;return t})();function ur(t){uf("NgStandalone"),t.getStandaloneInjector=e=>e.get($T).getOrCreateStandaloneInjector(t)}var ya=null;function HT(t){ya!==null&&(t.defaultEncapsulation!==ya.defaultEncapsulation||t.preserveWhitespaces!==ya.preserveWhitespaces)||(ya=t)}var Vt=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},v_=new Vt("17.3.9"),gc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var mf=new w(""),Co=new w(""),bc=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,gf||(zT(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{F.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(m(F),m(vc),m(Co))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let t=e;return t})(),vc=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return gf?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function zT(t){gf=t}var gf;function dr(t){return!!t&&typeof t.then=="function"}function __(t){return!!t&&typeof t.subscribe=="function"}var _c=new w(""),y_=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=v(_c,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(dr(s))r.push(s);else if(__(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bf=new w("");function WT(){_g(()=>{throw new C(600,!1)})}function GT(t){return t.isBoundToModule}function qT(t,e,n){try{let r=n();return dr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function w_(t,e){return Array.isArray(e)?e.reduce(w_,t):_(_({},t),e)}var mi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(Sv),this.afterRenderEffectManager=v(ff),this.externalTestViews=new Set,this.beforeRender=new ce,this.afterTick=new ce,this.componentTypes=[],this.components=[],this.isStable=v(dc).hasPendingTasks.pipe(S(r=>!r)),this._injector=v(Ge)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Ba;if(!this._injector.get(y_).done){let h=!o&&Bb(r),p=!1;throw new C(405,p)}let a;o?a=r:a=this._injector.get(cc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=GT(a)?void 0:this._injector.get(Dn),l=i||a.selector,u=a.create(St.NULL,[],l,c),d=u.location.nativeElement,f=u.injector.get(mf,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ea(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new C(101,!1);let i=Q(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Q(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===o_)throw new C(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)YT(a,s,c)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Ed(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Ed(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ea(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(bf,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ea(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new C(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ea(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function YT(t,e,n){!e&&!Ed(t)||KT(t,n,e)}function Ed(t){return $d(t)}function KT(t,e,n){let r;n?(r=0,t[T]|=1024):t[T]&64?r=0:r=1,s_(t,e,r)}var xd=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},yc=(()=>{let e=class e{compileModuleSync(r){return new za(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=Ub(r),s=Fv(o.declarations).reduce((a,c)=>{let l=yn(c);return l&&a.push(new oi(l)),a},[]);return new xd(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),QT=new w("");function ZT(t,e,n){let r=new za(n);return Promise.resolve(r)}function wb(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var XT=(()=>{let e=class e{constructor(){this.zone=v(F),this.applicationRef=v(mi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function JT(t){return[{provide:F,useFactory:t},{provide:ei,multi:!0,useFactory:()=>{let e=v(XT,{optional:!0});return()=>e.initialize()}},{provide:ei,multi:!0,useFactory:()=>{let e=v(nM);return()=>{e.initialize()}}},{provide:Sv,useFactory:eM}]}function eM(){let t=v(F),e=v(Et);return n=>t.runOutsideAngular(()=>e.handleError(n))}function tM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nM=(()=>{let e=class e{constructor(){this.subscription=new pe,this.initialized=!1,this.zone=v(F),this.pendingTasks=v(dc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{F.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{F.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rM(){return typeof $localize<"u"&&$localize.locale||Ga}var wc=new w("",{providedIn:"root",factory:()=>v(wc,V.Optional|V.SkipSelf)||rM()});var C_=new w(""),D_=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=kS(i?.ngZone,tM({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=lT(r.moduleType,this.injector,JT(()=>o)),a=s.injector.get(Et,null);return o.runOutsideAngular(()=>{let c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{Ea(this._modules,s),c.unsubscribe()})}),qT(a,o,()=>{let c=s.injector.get(y_);return c.runInitializers(),c.donePromise.then(()=>{let l=s.injector.get(wc,Ga);return FT(l||Ga),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=w_({},i);return ZT(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(mi);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new C(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(C_,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(m(St))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),io=null,I_=new w("");function iM(t){if(io&&!io.get(I_,!1))throw new C(400,!1);WT(),io=t;let e=t.get(D_);return aM(t),e}function vf(t,e,n=[]){let r=`Platform: ${e}`,i=new w(r);return(o=[])=>{let s=E_();if(!s||s.injector.get(I_,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):iM(oM(a,r))}return sM(i)}}function oM(t=[],e){return St.create({name:e,providers:[{provide:Qa,useValue:"platform"},{provide:C_,useValue:new Set([()=>io=null])},...t]})}function sM(t){let e=E_();if(!e)throw new C(401,!1);return e}function E_(){return io?.get(D_)??null}function aM(t){t.get(Qd,null)?.forEach(n=>n())}function _f(){return!1}var An=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=cM;let t=e;return t})();function cM(t){return lM(Xe(),oe(),(t&16)===16)}function lM(t,e,n){if(Ja(t)&&!n){let r=En(t.index,e);return new or(r,r)}else if(t.type&47){let r=e[Lt];return new or(r,e)}return null}var Sd=class{constructor(){}supports(e){return h_(e)}create(e){return new Td(e)}},uM=(t,e)=>e,Td=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||uM}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Cb(r,i,o)?n:r,a=Cb(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!h_(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,uT(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Md(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new qa),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new qa),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Md=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ad=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},qa=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Ad,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Cb(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Db(){return new yf([new Sd])}var yf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Db()),deps:[[e,new Od,new ai]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new C(901,!1)}};e.\u0275prov=y({token:e,providedIn:"root",factory:Db});let t=e;return t})();var x_=vf(null,"core",[]),S_=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(m(mi))},e.\u0275mod=z({type:e}),e.\u0275inj=H({});let t=e;return t})();function fr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function T_(t){let e=yn(t);if(!e)return null;let n=new oi(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var O_=null;function Ht(){return O_}function F_(t){O_??=t}var Cc=class{};var Ce=new w(""),Ef=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:()=>v(dM),providedIn:"platform"});let t=e;return t})(),P_=new w(""),dM=(()=>{let e=class e extends Ef{constructor(){super(),this._doc=v(Ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ht().getBaseHref(this._doc)}onPopState(r){let i=Ht().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ht().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function xf(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function M_(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function sn(t){return t&&t[0]!=="?"?"?"+t:t}var hr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:()=>v(Sf),providedIn:"root"});let t=e;return t})(),L_=new w(""),Sf=(()=>{let e=class e extends hr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??v(Ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return xf(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+sn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+sn(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+sn(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(m(Ef),m(L_,8))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),j_=(()=>{let e=class e extends hr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=xf(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+sn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+sn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(m(Ef),m(L_,8))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let t=e;return t})(),gi=(()=>{let e=class e{constructor(r){this._subject=new ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=pM(M_(A_(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+sn(i))}normalize(r){return e.stripTrailingSlash(hM(this._basePath,A_(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+sn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+sn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=sn,e.joinWithSlash=xf,e.stripTrailingSlash=M_,e.\u0275fac=function(i){return new(i||e)(m(hr))},e.\u0275prov=y({token:e,factory:()=>fM(),providedIn:"root"});let t=e;return t})();function fM(){return new gi(m(hr))}function hM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function A_(t){return t.replace(/\/index.html$/,"")}function pM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function V_(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var wf=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},B_=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new wf(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),N_(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);N_(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(fi),B(ac),B(yf))},e.\u0275dir=de({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function N_(t,e){t.context.$implicit=e.item}var U_=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Cf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){R_("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){R_("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(B(fi),B(ac))},e.\u0275dir=de({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Cf=class{constructor(){this.$implicit=null,this.ngIf=null}};function R_(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${je(e)}'.`)}var Ic=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=z({type:e}),e.\u0275inj=H({});let t=e;return t})(),Tf="browser",mM="server";function Mf(t){return t===Tf}function Io(t){return t===mM}var $_=(()=>{let e=class e{};e.\u0275prov=y({token:e,providedIn:"root",factory:()=>Mf(v(Re))?new Df(v(Ce),window):new If});let t=e;return t})(),Df=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=gM(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function gM(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var If=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Dc=class{};var Rf=class extends Cc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},kf=class t extends Rf{static makeCurrent(){F_(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=vM();return n==null?null:_M(n)}resetBaseElement(){Eo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return V_(document.cookie,e)}},Eo=null;function vM(){return Eo=Eo||document.querySelector("base"),Eo?Eo.getAttribute("href"):null}function _M(t){return new URL(t,document.baseURI).pathname}var Of=class{addToWindow(e){Qe.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new C(5103,!1);return o},Qe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Qe.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Qe.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};Qe.frameworkStabilizers||(Qe.frameworkStabilizers=[]),Qe.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Ht().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},yM=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac});let t=e;return t})(),Ff=new w(""),q_=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new C(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(m(Ff),m(F))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let t=e;return t})(),Ec=class{constructor(e){this._doc=e}},Af="ng-app-id",Y_=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Io(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Af}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Af),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Af,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(m(Ce),m(_o),m(yo,8),m(Re))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let t=e;return t})(),Nf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lf=/%COMP%/g,K_="%COMP%",wM=`_nghost-${K_}`,CM=`_ngcontent-${K_}`,DM=!0,IM=new w("",{providedIn:"root",factory:()=>DM});function EM(t){return CM.replace(Lf,t)}function xM(t){return wM.replace(Lf,t)}function Q_(t,e){return e.map(n=>n.replace(Lf,t))}var z_=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Io(c),this.defaultRenderer=new xo(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ft.ShadowDom&&(i=K(_({},i),{encapsulation:Ft.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof xc?o.applyToHost(r):o instanceof So&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Ft.Emulated:s=new xc(l,u,i,this.appId,d,a,c,f);break;case Ft.ShadowDom:return new Pf(l,u,r,i,a,c,this.nonce,f);default:s=new So(l,u,i,d,a,c,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(m(q_),m(Y_),m(_o),m(IM),m(Ce),m(Re),m(F),m(yo))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let t=e;return t})(),xo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Nf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(W_(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(W_(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Nf[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Nf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(en.DashCase|en.Important)?e.style.setProperty(n,r,i&en.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&en.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ht().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function W_(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Pf=class extends xo{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Q_(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},So=class extends xo{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Q_(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},xc=class extends So{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=EM(l),this.hostAttr=xM(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},SM=(()=>{let e=class e extends Ec{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(m(Ce))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let t=e;return t})(),G_=["alt","control","meta","shift"],TM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MM={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},AM=(()=>{let e=class e extends Ec{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ht().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),G_.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=TM[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),G_.forEach(a=>{if(a!==o){let c=MM[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(m(Ce))},e.\u0275prov=y({token:e,factory:e.\u0275fac});let t=e;return t})();function NM(){kf.makeCurrent()}function RM(){return new Et}function kM(){return kv(document),document}var OM=[{provide:Re,useValue:Tf},{provide:Qd,useValue:NM,multi:!0},{provide:Ce,useFactory:kM,deps:[]}],Z_=vf(x_,"browser",OM),FM=new w(""),PM=[{provide:Co,useClass:Of,deps:[]},{provide:mf,useClass:bc,deps:[F,vc,Co]},{provide:bc,useClass:bc,deps:[F,vc,Co]}],LM=[{provide:Qa,useValue:"root"},{provide:Et,useFactory:RM,deps:[]},{provide:Ff,useClass:SM,multi:!0,deps:[Ce,F,Re]},{provide:Ff,useClass:AM,multi:!0,deps:[Ce]},z_,Y_,q_,{provide:ho,useExisting:z_},{provide:Dc,useClass:yM,deps:[]},[]],X_=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:_o,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(m(FM,12))},e.\u0275mod=z({type:e}),e.\u0275inj=H({providers:[...LM,...PM],imports:[Ic,S_]});let t=e;return t})();var J_=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(m(Ce))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var k="primary",$o=Symbol("RouteTitle"),$f=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function wi(t){return new $f(t)}function VM(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function BM(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!zt(t[n],e[n]))return!1;return!0}function zt(t,e){let n=t?Hf(t):void 0,r=e?Hf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!dy(t[i],e[i]))return!1;return!0}function Hf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function dy(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function fy(t){return t.length>0?t[t.length-1]:null}function On(t){return _u(t)?t:dr(t)?J(Promise.resolve(t)):I(t)}var UM={exact:py,subset:my},hy={exact:$M,subset:HM,ignored:()=>!0};function ty(t,e,n){return UM[n.paths](t.root,e.root,n.matrixParams)&&hy[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function $M(t,e){return zt(t,e)}function py(t,e,n){if(!mr(t.segments,e.segments)||!Mc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!py(t.children[r],e.children[r],n))return!1;return!0}function HM(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>dy(t[n],e[n]))}function my(t,e,n){return gy(t,e,e.segments,n)}function gy(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!mr(i,n)||e.hasChildren()||!Mc(i,n,r))}else if(t.segments.length===n.length){if(!mr(t.segments,n)||!Mc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!my(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!mr(t.segments,i)||!Mc(t.segments,i,r)||!t.children[k]?!1:gy(t.children[k],e,o,r)}}function Mc(t,e,n){return e.every((r,i)=>hy[n](t[i].parameters,r.parameters))}var Nn=class{constructor(e=new X([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){return GM.serialize(this)}},X=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ac(this)}},pr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=wi(this.parameters),this._parameterMap}toString(){return vy(this)}};function zM(t,e){return mr(t,e)&&t.every((n,r)=>zt(n.parameters,e[r].parameters))}function mr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function WM(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===k&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==k&&(n=n.concat(e(i,r)))}),n}var Ho=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:()=>new Oo,providedIn:"root"});let t=e;return t})(),Oo=class{parse(e){let n=new Wf(e);return new Nn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${To(e.root,!0)}`,r=KM(e.queryParams),i=typeof e.fragment=="string"?`#${qM(e.fragment)}`:"";return`${n}${r}${i}`}},GM=new Oo;function Ac(t){return t.segments.map(e=>vy(e)).join("/")}function To(t,e){if(!t.hasChildren())return Ac(t);if(e){let n=t.children[k]?To(t.children[k],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==k&&r.push(`${i}:${To(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=WM(t,(r,i)=>i===k?[To(t.children[k],!1)]:[`${i}:${To(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[k]!=null?`${Ac(t)}/${n[0]}`:`${Ac(t)}/(${n.join("//")})`}}function by(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sc(t){return by(t).replace(/%3B/gi,";")}function qM(t){return encodeURI(t)}function zf(t){return by(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nc(t){return decodeURIComponent(t)}function ny(t){return Nc(t.replace(/\+/g,"%20"))}function vy(t){return`${zf(t.path)}${YM(t.parameters)}`}function YM(t){return Object.entries(t).map(([e,n])=>`;${zf(e)}=${zf(n)}`).join("")}function KM(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Sc(n)}=${Sc(i)}`).join("&"):`${Sc(n)}=${Sc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var QM=/^[^\/()?;#]+/;function jf(t){let e=t.match(QM);return e?e[0]:""}var ZM=/^[^\/()?;=#]+/;function XM(t){let e=t.match(ZM);return e?e[0]:""}var JM=/^[^=?&#]+/;function eA(t){let e=t.match(JM);return e?e[0]:""}var tA=/^[^&#]+/;function nA(t){let e=t.match(tA);return e?e[0]:""}var Wf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[k]=new X(e,n)),r}parseSegment(){let e=jf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new pr(Nc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=XM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=jf(this.remaining);i&&(r=i,this.capture(r))}e[Nc(n)]=Nc(r)}parseQueryParam(e){let n=eA(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=nA(this.remaining);s&&(r=s,this.capture(r))}let i=ny(n),o=ny(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=jf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=k);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[k]:new X([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}};function _y(t){return t.segments.length>0?new X([],{[k]:t}):t}function yy(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=yy(i);if(r===k&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new X(t.segments,e);return rA(n)}function rA(t){if(t.numberOfChildren===1&&t.children[k]){let e=t.children[k];return new X(t.segments.concat(e.segments),e.children)}return t}function Ci(t){return t instanceof Nn}function iA(t,e,n=null,r=null){let i=wy(t);return Cy(i,e,n,r)}function wy(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new X(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=_y(r);return e??i}function Cy(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Vf(i,i,i,n,r);let o=oA(e);if(o.toRoot())return Vf(i,i,new X([],{}),n,r);let s=sA(o,i,t),a=s.processChildren?No(s.segmentGroup,s.index,o.commands):Iy(s.segmentGroup,s.index,o.commands);return Vf(i,s.segmentGroup,a,n,r)}function Rc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Fo(t){return typeof t=="object"&&t!=null&&t.outlets}function Vf(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=Dy(t,e,n);let a=_y(yy(s));return new Nn(a,o,i)}function Dy(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Dy(o,e,n)}),new X(t.segments,r)}var kc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Rc(r[0]))throw new C(4003,!1);let i=r.find(Fo);if(i&&i!==fy(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oA(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new kc(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new kc(n,e,r)}var _i=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function sA(t,e,n){if(t.isAbsolute)return new _i(e,!0,0);if(!n)return new _i(e,!1,NaN);if(n.parent===null)return new _i(n,!0,0);let r=Rc(t.commands[0])?0:1,i=n.segments.length-1+r;return aA(n,i,t.numberOfDoubleDots)}function aA(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new _i(r,!1,i-o)}function cA(t){return Fo(t[0])?t[0].outlets:{[k]:t}}function Iy(t,e,n){if(t??=new X([],{}),t.segments.length===0&&t.hasChildren())return No(t,e,n);let r=lA(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new X(t.segments.slice(0,r.pathIndex),{});return o.children[k]=new X(t.segments.slice(r.pathIndex),t.children),No(o,0,i)}else return r.match&&i.length===0?new X(t.segments,{}):r.match&&!t.hasChildren()?Gf(t,e,n):r.match?No(t,0,i):Gf(t,e,n)}function No(t,e,n){if(n.length===0)return new X(t.segments,{});{let r=cA(n),i={};if(Object.keys(r).some(o=>o!==k)&&t.children[k]&&t.numberOfChildren===1&&t.children[k].segments.length===0){let o=No(t.children[k],e,n);return new X(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Iy(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new X(t.segments,i)}}function lA(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Fo(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!iy(c,l,s))return o;r+=2}else{if(!iy(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Gf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Fo(o)){let c=uA(o.outlets);return new X(r,c)}if(i===0&&Rc(n[0])){let c=t.segments[e];r.push(new pr(c.path,ry(n[0]))),i++;continue}let s=Fo(o)?o.outlets[k]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Rc(a)?(r.push(new pr(s,ry(a))),i+=2):(r.push(new pr(s,{})),i++)}return new X(r,{})}function uA(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Gf(new X([],{}),0,r))}),e}function ry(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function iy(t,e,n){return t==n.path&&zt(e,n.parameters)}var Ro="imperative",De=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(De||{}),ht=class{constructor(e,n){this.id=e,this.url=n}},Di=class extends ht{constructor(e,n,r="imperative",i=null){super(e,n),this.type=De.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},an=class extends ht{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=De.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},et=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(et||{}),Oc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Oc||{}),Rn=class extends ht{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=De.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kn=class extends ht{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=De.NavigationSkipped}},Po=class extends ht{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=De.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fc=class extends ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qf=class extends ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yf=class extends ht{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=De.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Kf=class extends ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qf=class extends ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zf=class{constructor(e){this.route=e,this.type=De.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xf=class{constructor(e){this.route=e,this.type=De.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Jf=class{constructor(e){this.snapshot=e,this.type=De.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eh=class{constructor(e){this.snapshot=e,this.type=De.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},th=class{constructor(e){this.snapshot=e,this.type=De.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nh=class{constructor(e){this.snapshot=e,this.type=De.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pc=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=De.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Lo=class{},jo=class{constructor(e){this.url=e}};var rh=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zo,this.attachRef=null}},zo=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new rh,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ih(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ih(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=oh(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return oh(e,this._root).map(n=>n.value)}};function ih(t,e){if(t===e.value)return e;for(let n of e.children){let r=ih(t,n);if(r)return r}return null}function oh(t,e){if(t===e.value)return[e];for(let n of e.children){let r=oh(t,n);if(r.length)return r.unshift(e),r}return[]}var Je=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function vi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var jc=class extends Lc{constructor(e,n){super(e),this.snapshot=n,mh(this,e)}toString(){return this.snapshot.toString()}};function Ey(t){let e=dA(t),n=new Se([new pr("",{})]),r=new Se({}),i=new Se({}),o=new Se({}),s=new Se(""),a=new Ii(n,r,o,s,i,k,t,e.root);return a.snapshot=e.root,new jc(new Je(a,[]),e)}function dA(t){let e={},n={},r={},i="",o=new Vo([],e,r,i,n,k,t,null,{});return new Vc("",new Je(o,[]))}var Ii=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(S(l=>l[$o]))??I(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(S(e=>wi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(S(e=>wi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ph(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:_(_({},e.params),t.params),data:_(_({},e.data),t.data),resolve:_(_(_(_({},t.data),e.data),i?.data),t._resolvedData)}:r={params:_({},t.params),data:_({},t.data),resolve:_(_({},t.data),t._resolvedData??{})},i&&Sy(i)&&(r.resolve[$o]=i.title),r}var Vo=class{get title(){return this.data?.[$o]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Vc=class extends Lc{constructor(e,n){super(n),this.url=e,mh(this,n)}toString(){return xy(this._root)}};function mh(t,e){e.value._routerState=t,e.children.forEach(n=>mh(t,n))}function xy(t){let e=t.children.length>0?` { ${t.children.map(xy).join(", ")} } `:"";return`${t.value}${e}`}function Bf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,zt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),zt(e.params,n.params)||t.paramsSubject.next(n.params),BM(e.url,n.url)||t.urlSubject.next(n.url),zt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function sh(t,e){let n=zt(t.params,e.params)&&zM(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||sh(t.parent,e.parent))}function Sy(t){return typeof t.title=="string"||t.title===null}var gh=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=k,this.activateEvents=new ue,this.deactivateEvents=new ue,this.attachEvents=new ue,this.detachEvents=new ue,this.parentContexts=v(zo),this.location=v(fi),this.changeDetector=v(An),this.environmentInjector=v(Ge),this.inputBinder=v(zc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new ah(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=de({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[In]});let t=e;return t})(),ah=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ii?this.route:e===zo?this.childContexts:this.parent.get(e,n)}},zc=new w(""),oy=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Qn([i.queryParams,i.params,i.data]).pipe(se(([s,a,c],l)=>(c=_(_(_({},s),a),c),l===0?I(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=T_(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac});let t=e;return t})();function fA(t,e,n){let r=Bo(t,e._root,n?n._root:void 0);return new jc(r,e)}function Bo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=hA(t,e,n);return new Je(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Bo(t,a)),s}}let r=pA(e.value),i=e.children.map(o=>Bo(t,o));return new Je(r,i)}}function hA(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Bo(t,r,i);return Bo(t,r)})}function pA(t){return new Ii(new Se(t.url),new Se(t.params),new Se(t.queryParams),new Se(t.fragment),new Se(t.data),t.outlet,t.component,t)}var Ty="ngNavigationCancelingError";function My(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ci(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ay(!1,et.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Ay(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Ty]=!0,n.cancellationCode=e,n}function mA(t){return Ny(t)&&Ci(t.url)}function Ny(t){return!!t&&t[Ty]}var gA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ze({type:e,selectors:[["ng-component"]],standalone:!0,features:[ur],decls:1,vars:0,template:function(i,o){i&1&&Ut(0,"router-outlet")},dependencies:[gh],encapsulation:2});let t=e;return t})();function bA(t,e){return t.providers&&!t._injector&&(t._injector=uc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function bh(t){let e=t.children&&t.children.map(bh),n=e?K(_({},t),{children:e}):_({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==k&&(n.component=gA),n}function Wt(t){return t.outlet||k}function vA(t,e){let n=t.filter(r=>Wt(r)===e);return n.push(...t.filter(r=>Wt(r)!==e)),n}function Wo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var _A=(t,e,n,r)=>S(i=>(new ch(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),ch=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Bf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=vi(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=vi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=vi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=vi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new nh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new eh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Bf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Bf(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Wo(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Bc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},yi=class{constructor(e,n){this.component=e,this.route=n}};function yA(t,e,n){let r=t._root,i=e?e._root:null;return Mo(r,i,n,[r.value])}function wA(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!xb(t)?t:e.get(t):r}function Mo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=vi(e);return t.children.forEach(s=>{CA(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ko(a,n.getContext(s),i)),i}function CA(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=DA(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Bc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Mo(t,e,a?a.children:null,r,i):Mo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yi(a.outlet.component,s))}else s&&ko(e,a,i),i.canActivateChecks.push(new Bc(r)),o.component?Mo(t,null,a?a.children:null,r,i):Mo(t,null,n,r,i);return i}function DA(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!mr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mr(t.url,e.url)||!zt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sh(t,e)||!zt(t.queryParams,e.queryParams);case"paramsChange":default:return!sh(t,e)}}function ko(t,e,n){let r=vi(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ko(s,e.children.getContext(o),n):ko(s,null,n):ko(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new yi(e.outlet.component,i)):n.canDeactivateChecks.push(new yi(null,i)):n.canDeactivateChecks.push(new yi(null,i))}function Go(t){return typeof t=="function"}function IA(t){return typeof t=="boolean"}function EA(t){return t&&Go(t.canLoad)}function xA(t){return t&&Go(t.canActivate)}function SA(t){return t&&Go(t.canActivateChild)}function TA(t){return t&&Go(t.canDeactivate)}function MA(t){return t&&Go(t.canMatch)}function Ry(t){return t instanceof Jt||t?.name==="EmptyError"}var Tc=Symbol("INITIAL_VALUE");function Ei(){return se(t=>Qn(t.map(e=>e.pipe(wt(1),to(Tc)))).pipe(S(e=>{for(let n of e)if(n!==!0){if(n===Tc)return Tc;if(n===!1||n instanceof Nn)return n}return!0}),Ae(e=>e!==Tc),wt(1)))}function AA(t,e){return be(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?I(K(_({},n),{guardsResult:!0})):NA(s,r,i,t).pipe(be(a=>a&&IA(a)?RA(r,o,t,e):I(a)),S(a=>K(_({},n),{guardsResult:a})))})}function NA(t,e,n,r){return J(t).pipe(be(i=>LA(i.component,i.route,n,e,r)),at(i=>i!==!0,!0))}function RA(t,e,n,r){return J(e).pipe(Zn(i=>mn(OA(i.route.parent,r),kA(i.route,r),PA(t,i.path,n),FA(t,i.route,n))),at(i=>i!==!0,!0))}function kA(t,e){return t!==null&&e&&e(new th(t)),I(!0)}function OA(t,e){return t!==null&&e&&e(new Jf(t)),I(!0)}function FA(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return I(!0);let i=r.map(o=>ha(()=>{let s=Wo(e)??n,a=xi(o,s),c=xA(a)?a.canActivate(e,t):tn(s,()=>a(e,t));return On(c).pipe(at())}));return I(i).pipe(Ei())}function PA(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>wA(s)).filter(s=>s!==null).map(s=>ha(()=>{let a=s.guards.map(c=>{let l=Wo(s.node)??n,u=xi(c,l),d=SA(u)?u.canActivateChild(r,t):tn(l,()=>u(r,t));return On(d).pipe(at())});return I(a).pipe(Ei())}));return I(o).pipe(Ei())}function LA(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return I(!0);let s=o.map(a=>{let c=Wo(e)??i,l=xi(a,c),u=TA(l)?l.canDeactivate(t,e,n,r):tn(c,()=>l(t,e,n,r));return On(u).pipe(at())});return I(s).pipe(Ei())}function jA(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return I(!0);let o=i.map(s=>{let a=xi(s,t),c=EA(a)?a.canLoad(e,n):tn(t,()=>a(e,n));return On(c)});return I(o).pipe(Ei(),ky(r))}function ky(t){return hu(ye(e=>{if(Ci(e))throw My(t,e)}),S(e=>e===!0))}function VA(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return I(!0);let o=i.map(s=>{let a=xi(s,t),c=MA(a)?a.canMatch(e,n):tn(t,()=>a(e,n));return On(c)});return I(o).pipe(Ei(),ky(r))}var Uo=class{constructor(e){this.segmentGroup=e||null}},Uc=class extends Error{constructor(e){super(),this.urlTree=e}};function bi(t){return $r(new Uo(t))}function BA(t){return $r(new C(4e3,!1))}function UA(t){return $r(Ay(!1,et.GuardRejected))}var lh=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return I(r);if(i.numberOfChildren>1||!i.children[k])return BA(e.redirectTo);i=i.children[k]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Uc(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Nn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new X(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},uh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $A(t,e,n,r,i){let o=vh(t,e,n);return o.matched?(r=bA(e,r),VA(r,e,n,i).pipe(S(s=>s===!0?o:_({},uh)))):I(o)}function vh(t,e,n){if(e.path==="**")return HA(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?_({},uh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||VM)(n,t,e);if(!i)return _({},uh);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?_(_({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function HA(t){return{matched:!0,parameters:t.length>0?fy(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function sy(t,e,n,r){return n.length>0&&GA(t,n,r)?{segmentGroup:new X(e,WA(r,new X(n,t.children))),slicedSegments:[]}:n.length===0&&qA(t,n,r)?{segmentGroup:new X(t.segments,zA(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new X(t.segments,t.children),slicedSegments:n}}function zA(t,e,n,r){let i={};for(let o of n)if(Wc(t,e,o)&&!r[Wt(o)]){let s=new X([],{});i[Wt(o)]=s}return _(_({},r),i)}function WA(t,e){let n={};n[k]=e;for(let r of t)if(r.path===""&&Wt(r)!==k){let i=new X([],{});n[Wt(r)]=i}return n}function GA(t,e,n){return n.some(r=>Wc(t,e,r)&&Wt(r)!==k)}function qA(t,e,n){return n.some(r=>Wc(t,e,r))}function Wc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function YA(t,e,n,r){return Wt(t)!==r&&(r===k||!Wc(e,n,t))?!1:vh(e,t,n).matched}function KA(t,e,n){return e.length===0&&!t.children[n]}var dh=class{};function QA(t,e,n,r,i,o,s="emptyOnly"){return new fh(t,e,n,r,i,s,o).recognize()}var ZA=31,fh=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new lh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new C(4002,`'${e.segmentGroup}'`)}recognize(){let e=sy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(S(n=>{let r=new Vo([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,{},k,this.rootComponentType,null,{}),i=new Je(r,n),o=new Vc("",i),s=iA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,k).pipe(gn(r=>{if(r instanceof Uc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Uo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=ph(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(S(o=>o instanceof Je?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return J(i).pipe(Zn(o=>{let s=r.children[o],a=vA(n,o);return this.processSegmentGroup(e,a,s,o)}),Wr((o,s)=>(o.push(...s),o)),bn(null),Iu(),be(o=>{if(o===null)return bi(r);let s=Oy(o);return XA(s),I(s)}))}processSegment(e,n,r,i,o,s){return J(n).pipe(Zn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(gn(c=>{if(c instanceof Uo)return I(null);throw c}))),at(a=>!!a),gn(a=>{if(Ry(a))return KA(r,i,o)?I(new dh):bi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return YA(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):bi(i):bi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=vh(n,i,o);if(!a)return bi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ZA&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(be(f=>this.processSegment(e,r,n,f.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=$A(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(se(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(se(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new Vo(u,f,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,eN(r),Wt(r),r.component??r._loadedComponent??null,r,tN(r)),{segmentGroup:p,slicedSegments:b}=sy(n,u,d,c);if(b.length===0&&p.hasChildren())return this.processChildren(l,c,p).pipe(S(E=>E===null?null:new Je(h,E)));if(c.length===0&&b.length===0)return I(new Je(h,[]));let D=Wt(r)===o;return this.processSegment(l,c,p,b,D?k:o,!0).pipe(S(E=>new Je(h,E instanceof Je?[E]:[])))}))):bi(n)))}getChildConfig(e,n,r){return n.children?I({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?I({routes:n._loadedRoutes,injector:n._loadedInjector}):jA(e,n,r,this.urlSerializer).pipe(be(i=>i?this.configLoader.loadChildren(e,n).pipe(ye(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):UA(n))):I({routes:[],injector:e})}};function XA(t){t.sort((e,n)=>e.value.outlet===k?-1:n.value.outlet===k?1:e.value.outlet.localeCompare(n.value.outlet))}function JA(t){let e=t.value.routeConfig;return e&&e.path===""}function Oy(t){let e=[],n=new Set;for(let r of t){if(!JA(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Oy(r.children);e.push(new Je(r.value,i))}return e.filter(r=>!n.has(r))}function eN(t){return t.data||{}}function tN(t){return t.resolve||{}}function nN(t,e,n,r,i,o){return be(s=>QA(t,e,n,r,s.extractedUrl,i,o).pipe(S(({state:a,tree:c})=>K(_({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function rN(t,e){return be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return I(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Fy(c))s.add(l);let a=0;return J(s).pipe(Zn(c=>o.has(c)?iN(c,r,t,e):(c.data=ph(c,c.parent,t).resolve,I(void 0))),ye(()=>a++),zr(1),be(c=>a===s.size?I(n):Pe))})}function Fy(t){let e=t.children.map(n=>Fy(n)).flat();return[t,...e]}function iN(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Sy(i)&&(o[$o]=i.title),oN(o,t,e,r).pipe(S(s=>(t._resolvedData=s,t.data=ph(t,t.parent,n).resolve,null)))}function oN(t,e,n,r){let i=Hf(t);if(i.length===0)return I({});let o={};return J(i).pipe(be(s=>sN(t[s],e,n,r).pipe(at(),ye(a=>{o[s]=a}))),zr(1),Cu(o),gn(s=>Ry(s)?Pe:$r(s)))}function sN(t,e,n,r){let i=Wo(e)??r,o=xi(t,i),s=o.resolve?o.resolve(e,n):tn(i,()=>o(e,n));return On(s)}function Uf(t){return se(e=>{let n=t(e);return n?J(n).pipe(S(()=>e)):I(e)})}var Py=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===k);return i}getResolvedTitleForRoute(r){return r.data[$o]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:()=>v(aN),providedIn:"root"});let t=e;return t})(),aN=(()=>{let e=class e extends Py{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(m(J_))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qo=new w("",{providedIn:"root",factory:()=>({})}),$c=new w(""),_h=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(yc)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return I(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=On(r.loadComponent()).pipe(S(Ly),ye(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ji(()=>{this.componentLoaders.delete(r)})),o=new Lr(i,()=>new ce).pipe(Pr());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return I({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=cN(i,this.compiler,r,this.onLoadEndListener).pipe(Ji(()=>{this.childrenLoaders.delete(i)})),a=new Lr(s,()=>new ce).pipe(Pr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cN(t,e,n,r){return On(t.loadChildren()).pipe(S(Ly),be(i=>i instanceof po||Array.isArray(i)?I(i):J(e.compileModuleAsync(i))),S(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get($c,[],{optional:!0,self:!0}).flat()),{routes:s.map(bh),injector:o}}))}function lN(t){return t&&typeof t=="object"&&"default"in t}function Ly(t){return lN(t)?t.default:t}var yh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:()=>v(uN),providedIn:"root"});let t=e;return t})(),uN=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jy=new w(""),Vy=new w("");function dN(t,e,n){let r=t.get(Vy),i=t.get(Ce);return t.get(F).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),fN(t))),{onViewTransitionCreated:c}=r;return c&&tn(t,()=>c({transition:a,from:e,to:n})),s})}function fN(t){return new Promise(e=>{lc(e,{injector:t})})}var wh=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ce,this.transitionAbortSubject=new ce,this.configLoader=v(_h),this.environmentInjector=v(Ge),this.urlSerializer=v(Ho),this.rootContexts=v(zo),this.location=v(gi),this.inputBindingEnabled=v(zc,{optional:!0})!==null,this.titleStrategy=v(Py),this.options=v(qo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(yh),this.createViewTransition=v(jy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>I(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Zf(o)),i=o=>this.events.next(new Xf(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(K(_(_({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Se({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ro,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ae(s=>s.id!==0),S(s=>K(_({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),se(s=>{let a=!1,c=!1;return I(s).pipe(se(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",et.SupersededByNewNavigation),Pe;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?K(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new kn(l.id,this.urlSerializer.serialize(l.rawUrl),f,Oc.IgnoredSameUrlNavigation)),l.resolve(null),Pe}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return I(l).pipe(se(f=>{let h=this.transitions?.getValue();return this.events.next(new Di(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Pe:Promise.resolve(f)}),nN(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ye(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=K(_({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new Fc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:b,extras:D}=l,E=new Di(f,this.urlSerializer.serialize(h),p,b);this.events.next(E);let Y=Ey(this.rootComponentType).snapshot;return this.currentTransition=s=K(_({},l),{targetSnapshot:Y,urlAfterRedirects:h,extras:K(_({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,I(s)}else{let f="";return this.events.next(new kn(l.id,this.urlSerializer.serialize(l.extractedUrl),f,Oc.IgnoredByUrlHandlingStrategy)),l.resolve(null),Pe}}),ye(l=>{let u=new qf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),S(l=>(this.currentTransition=s=K(_({},l),{guards:yA(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),AA(this.environmentInjector,l=>this.events.next(l)),ye(l=>{if(s.guardsResult=l.guardsResult,Ci(l.guardsResult))throw My(this.urlSerializer,l.guardsResult);let u=new Yf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ae(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",et.GuardRejected),!1)),Uf(l=>{if(l.guards.canActivateChecks.length)return I(l).pipe(ye(u=>{let d=new Kf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),se(u=>{let d=!1;return I(u).pipe(rN(this.paramsInheritanceStrategy,this.environmentInjector),ye({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",et.NoDataFromResolver)}}))}),ye(u=>{let d=new Qf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Uf(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(ye(h=>{d.component=h}),S(()=>{})));for(let h of d.children)f.push(...u(h));return f};return Qn(u(l.targetSnapshot.root)).pipe(bn(null),wt(1))}),Uf(()=>this.afterPreactivation()),se(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?J(d).pipe(S(()=>s)):I(s)}),S(l=>{let u=fA(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=K(_({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),ye(()=>{this.events.next(new Lo)}),_A(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),wt(1),ye({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new an(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),no(this.transitionAbortSubject.pipe(ye(l=>{throw l}))),Ji(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",et.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),gn(l=>{if(c=!0,Ny(l))this.events.next(new Rn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),mA(l)?this.events.next(new jo(l.url)):s.resolve(!1);else{this.events.next(new Po(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Pe}))}))}cancelNavigationTransition(r,i,o){let s=new Rn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hN(t){return t!==Ro}var pN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:()=>v(mN),providedIn:"root"});let t=e;return t})(),hh=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},mN=(()=>{let e=class e extends hh{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ui(e)))(o||e)}})(),e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),By=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:()=>v(gN),providedIn:"root"});let t=e;return t})(),gN=(()=>{let e=class e extends By{constructor(){super(...arguments),this.location=v(gi),this.urlSerializer=v(Ho),this.options=v(qo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(yh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Nn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ey(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Di)this.stateMemento=this.createStateMemento();else if(r instanceof kn)this.rawUrlTree=i.initialUrl;else if(r instanceof Fc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Lo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Rn&&(r.code===et.GuardRejected||r.code===et.NoDataFromResolver)?this.restoreHistory(i):r instanceof Po?this.restoreHistory(i,!0):r instanceof an&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=_(_({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=_(_({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ui(e)))(o||e)}})(),e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ao=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ao||{});function Uy(t,e){t.events.pipe(Ae(n=>n instanceof an||n instanceof Rn||n instanceof Po||n instanceof kn),S(n=>n instanceof an||n instanceof kn?Ao.COMPLETE:(n instanceof Rn?n.code===et.Redirect||n.code===et.SupersededByNewNavigation:!1)?Ao.REDIRECTING:Ao.FAILED),Ae(n=>n!==Ao.REDIRECTING),wt(1)).subscribe(()=>{e()})}function bN(t){throw t}var vN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_N={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},cn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=v(gc),this.stateManager=v(By),this.options=v(qo,{optional:!0})||{},this.pendingTasks=v(dc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(wh),this.urlSerializer=v(Ho),this.location=v(gi),this.urlHandlingStrategy=v(yh),this._events=new ce,this.errorHandler=this.options.errorHandler||bN,this.navigated=!1,this.routeReuseStrategy=v(pN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v($c,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(zc,{optional:!0}),this.eventsSubscription=new pe,this.isNgZoneEnabled=v(F)instanceof F&&F.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Rn&&i.code!==et.Redirect&&i.code!==et.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof an)this.navigated=!0;else if(i instanceof jo){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||hN(o.source)};this.scheduleNavigation(a,Ro,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}wN(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ro,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=_({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(bh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=_(_({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=wy(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return Cy(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ci(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ro,null,i)}navigate(r,i={skipLocationChange:!1}){return yN(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=_({},vN):i===!1?o=_({},_N):o=i,Ci(r))return ty(this.currentUrlTree,r,o);let s=this.parseUrl(r);return ty(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});let d=this.pendingTasks.add();return Uy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new C(4008,!1)}function wN(t){return!(t instanceof Lo)&&!(t instanceof jo)}var Hc=class{};var CN=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ae(r=>r instanceof an),Zn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=uc(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return J(o).pipe(pn())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=I(null);let s=o.pipe(be(a=>a===null?I(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return J([s,a]).pipe(pn())}else return s})}};e.\u0275fac=function(i){return new(i||e)(m(cn),m(yc),m(Ge),m(Hc),m(_h))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$y=new w(""),DN=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=v(Ge),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Di?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof an?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof kn&&r.code===Oc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Pc&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>Ke(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),lc(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Pc(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){rf()},e.\u0275prov=y({token:e,factory:e.\u0275fac});let t=e;return t})();function IN(t){return t.routerState.root}function Yo(t,e){return{\u0275kind:t,\u0275providers:e}}function EN(){let t=v(St);return e=>{let n=t.get(mi);if(e!==n.components[0])return;let r=t.get(cn),i=t.get(Hy);t.get(Ch)===1&&r.initialNavigation(),t.get(zy,null,V.Optional)?.setUpPreloading(),t.get($y,null,V.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Hy=new w("",{factory:()=>new ce}),Ch=new w("",{providedIn:"root",factory:()=>1});function xN(){return Yo(2,[{provide:Ch,useValue:0},{provide:_c,multi:!0,deps:[St],useFactory:e=>{let n=e.get(P_,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(cn),o=e.get(Hy);Uy(i,()=>{r(!0)}),e.get(wh).afterPreactivation=()=>(r(!0),o.closed?I(void 0):o),i.initialNavigation()}))}}])}function SN(){return Yo(3,[{provide:_c,multi:!0,useFactory:()=>{let e=v(cn);return()=>{e.setUpLocationChangeListener()}}},{provide:Ch,useValue:2}])}var zy=new w("");function TN(t){return Yo(0,[{provide:zy,useExisting:CN},{provide:Hc,useExisting:t}])}function MN(){return Yo(8,[oy,{provide:zc,useExisting:oy}])}function AN(t){let e=[{provide:jy,useValue:dN},{provide:Vy,useValue:_({skipNextTransition:!!t?.skipInitialTransition},t)}];return Yo(9,e)}var ay=new w("ROUTER_FORROOT_GUARD"),NN=[gi,{provide:Ho,useClass:Oo},cn,zo,{provide:Ii,useFactory:IN,deps:[cn]},_h,[]],Ko=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[NN,[],{provide:$c,multi:!0,useValue:r},{provide:ay,useFactory:FN,deps:[[cn,new ai,new Od]]},{provide:qo,useValue:i||{}},i?.useHash?kN():ON(),RN(),i?.preloadingStrategy?TN(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?PN(i):[],i?.bindToComponentInputs?MN().\u0275providers:[],i?.enableViewTransitions?AN().\u0275providers:[],LN()]}}static forChild(r){return{ngModule:e,providers:[{provide:$c,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(m(ay,8))},e.\u0275mod=z({type:e}),e.\u0275inj=H({});let t=e;return t})();function RN(){return{provide:$y,useFactory:()=>{let t=v($_),e=v(F),n=v(qo),r=v(wh),i=v(Ho);return n.scrollOffset&&t.setOffset(n.scrollOffset),new DN(i,r,t,e,n)}}}function kN(){return{provide:hr,useClass:j_}}function ON(){return{provide:hr,useClass:Sf}}function FN(t){return"guarded"}function PN(t){return[t.initialNavigation==="disabled"?SN().\u0275providers:[],t.initialNavigation==="enabledBlocking"?xN().\u0275providers:[]]}var cy=new w("");function LN(){return[{provide:cy,useFactory:EN},{provide:bf,multi:!0,useExisting:cy}]}var ew=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(B(di),B(Ve))},e.\u0275dir=de({type:e});let t=e;return t})(),jN=(()=>{let e=class e extends ew{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ui(e)))(o||e)}})(),e.\u0275dir=de({type:e,features:[Bt]});let t=e;return t})(),tw=new w("");var VN={provide:tw,useExisting:ar(()=>Xc),multi:!0};function BN(){let t=Ht()?Ht().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var UN=new w(""),Xc=(()=>{let e=class e extends ew{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!BN())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(B(di),B(Ve),B(UN,8))},e.\u0275dir=de({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&ft("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[lr([VN]),Bt]});let t=e;return t})();function $N(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Ih=new w(""),nw=new w("");function HN(t){return $N(t.value)?{required:!0}:null}function Gy(t){return null}function rw(t){return t!=null}function iw(t){return dr(t)?J(t):t}function ow(t){let e={};return t.forEach(n=>{e=n!=null?_(_({},e),n):e}),Object.keys(e).length===0?null:e}function sw(t,e){return e.map(n=>n(t))}function zN(t){return!t.validate}function aw(t){return t.map(e=>zN(e)?e:n=>e.validate(n))}function WN(t){if(!t)return null;let e=t.filter(rw);return e.length==0?null:function(n){return ow(sw(n,e))}}function Eh(t){return t!=null?WN(aw(t)):null}function GN(t){if(!t)return null;let e=t.filter(rw);return e.length==0?null:function(n){let r=sw(n,e).map(iw);return yu(r).pipe(S(ow))}}function xh(t){return t!=null?GN(aw(t)):null}function qy(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function qN(t){return t._rawValidators}function YN(t){return t._rawAsyncValidators}function Dh(t){return t?Array.isArray(t)?t:[t]:[]}function qc(t,e){return Array.isArray(t)?t.includes(e):t===e}function Yy(t,e){let n=Dh(e);return Dh(t).forEach(i=>{qc(n,i)||n.push(i)}),n}function Ky(t,e){return Dh(e).filter(n=>!qc(t,n))}var Yc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Eh(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ti=class extends Yc{get formDirective(){return null}get path(){return null}},Jo=class extends Yc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Kc=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},KN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},fH=K(_({},KN),{"[class.ng-submitted]":"isSubmitted"}),cw=(()=>{let e=class e extends Kc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(Jo,2))},e.\u0275dir=de({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&on("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Bt]});let t=e;return t})(),lw=(()=>{let e=class e extends Kc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(B(Ti,10))},e.\u0275dir=de({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&on("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Bt]});let t=e;return t})();var Qo="VALID",Gc="INVALID",Si="PENDING",Zo="DISABLED";function uw(t){return(Jc(t)?t.validators:t)||null}function QN(t){return Array.isArray(t)?Eh(t):t||null}function dw(t,e){return(Jc(e)?e.asyncValidators:t)||null}function ZN(t){return Array.isArray(t)?xh(t):t||null}function Jc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function XN(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new C(1e3,"");if(!r[n])throw new C(1001,"")}function JN(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new C(1002,"")})}var Qc=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Qo}get invalid(){return this.status===Gc}get pending(){return this.status==Si}get disabled(){return this.status===Zo}get enabled(){return this.status!==Zo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Yy(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Yy(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ky(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ky(e,this._rawAsyncValidators))}hasValidator(e){return qc(this._rawValidators,e)}hasAsyncValidator(e){return qc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Si,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Zo,this.errors=null,this._forEachChild(r=>{r.disable(K(_({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(K(_({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Qo,this._forEachChild(r=>{r.enable(K(_({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(K(_({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qo||this.status===Si)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zo:Qo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Si,this._hasOwnPendingAsyncValidator=!0;let n=iw(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ue,this.statusChanges=new ue}_calculateStatus(){return this._allControlsDisabled()?Zo:this.errors?Gc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Si)?Si:this._anyControlsHaveStatus(Gc)?Gc:Qo}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jc(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=QN(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ZN(this._rawAsyncValidators)}},Zc=class extends Qc{constructor(e,n,r){super(uw(n),dw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){JN(this,!0,e),Object.keys(e).forEach(r=>{XN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Sh=new w("CallSetDisabledState",{providedIn:"root",factory:()=>Th}),Th="always";function eR(t,e){return[...e.path,t]}function fw(t,e,n=Th){hw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),nR(t,e),iR(t,e),rR(t,e),tR(t,e)}function Qy(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function tR(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function hw(t,e){let n=qN(t);e.validator!==null?t.setValidators(qy(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=YN(t);e.asyncValidator!==null?t.setAsyncValidators(qy(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Qy(e._rawValidators,i),Qy(e._rawAsyncValidators,i)}function nR(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&pw(t,e)})}function rR(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&pw(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function pw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function iR(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function oR(t,e){t==null,hw(t,e)}function sR(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function aR(t){return Object.getPrototypeOf(t.constructor)===jN}function cR(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function lR(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Xc?n=o:aR(o)?r=o:i=o}),i||r||n||null}var uR={provide:Ti,useExisting:ar(()=>Mh)},Xo=Promise.resolve(),Mh=(()=>{let e=class e extends Ti{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ue,this.form=new Zc({},Eh(r),xh(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Xo.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),fw(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Xo.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Xo.then(()=>{let i=this._findContainer(r.path),o=new Zc({});oR(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Xo.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Xo.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,cR(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(B(Ih,10),B(nw,10),B(Sh,8))},e.\u0275dir=de({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&ft("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[Te.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[lr([uR]),Bt]});let t=e;return t})();function Zy(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Xy(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var dR=class extends Qc{constructor(e=null,n,r){super(uw(n),dw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Xy(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Zy(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Zy(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Xy(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var fR={provide:Jo,useExisting:ar(()=>Ah)},Jy=Promise.resolve(),Ah=(()=>{let e=class e extends Jo{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new dR,this._registered=!1,this.name="",this.update=new ue,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=lR(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),sR(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){fw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Jy.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&fr(i);Jy.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?eR(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(B(Ti,9),B(Ih,10),B(nw,10),B(tw,10),B(An,8),B(Sh,8))},e.\u0275dir=de({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Te.None,"disabled","isDisabled"],model:[Te.None,"ngModel","model"],options:[Te.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[lr([fR]),Bt,In]});let t=e;return t})(),mw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=de({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var hR=(()=>{let e=class e{constructor(){this._validator=Gy}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Gy,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=de({type:e,features:[In]});let t=e;return t})();var pR={provide:Ih,useExisting:ar(()=>Nh),multi:!0};var Nh=(()=>{let e=class e extends hR{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=fr,this.createValidator=r=>HN}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ui(e)))(o||e)}})(),e.\u0275dir=de({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&Tn("required",o._enabled?"":null)},inputs:{required:"required"},features:[lr([pR]),Bt]});let t=e;return t})();var mR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=z({type:e}),e.\u0275inj=H({});let t=e;return t})();var gw=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Sh,useValue:r.callSetDisabledState??Th}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=z({type:e}),e.\u0275inj=H({imports:[mR]});let t=e;return t})();function bR(t,e){if(t&1&&(re(0,"div",15),me(1),Z()),t&2){let n=pi();Me(),hc(n.errorMessage)}}function vR(t,e){t&1&&Ut(0,"div",16)}var Rh=(()=>{let e=class e{constructor(r){this.router=r,this.username="",this.password="",this.passwordVisible=!1,this.inputType="password",this.isLoading=!1,this.errorMessage=""}login(){this.username==="admin"&&this.password==="arc123"?this.router.navigate(["/users"]):this.errorMessage="Invalid username or password"}togglePasswordVisibility(){this.passwordVisible=!this.passwordVisible,this.inputType=this.passwordVisible?"text":"password"}};e.\u0275fac=function(i){return new(i||e)(B(cn))},e.\u0275cmp=Ze({type:e,selectors:[["app-admin-dashboard"]],decls:21,vars:7,consts:[["passwordInput",""],[1,"container"],[1,"logo"],["src","assets/logo.png","alt","Logo"],["id","login"],["name","form-login",3,"ngSubmit"],[1,"input-group"],[1,"material-icons"],["name","username","type","text","id","user","placeholder","Username","required","",3,"ngModelChange","ngModel"],[1,"input-group","password-input"],["name","password","id","pass","placeholder","Password","required","",3,"ngModelChange","ngModel","type"],["type","button",3,"click"],["type","submit",3,"disabled"],["class","error",4,"ngIf"],["class","loading-icon",4,"ngIf"],[1,"error"],[1,"loading-icon"]],template:function(i,o){if(i&1){let s=fc();re(0,"div",1)(1,"div",2),Ut(2,"img",3),Z(),re(3,"div",4)(4,"form",5),ft("ngSubmit",function(){return xn(s),Sn(o.login())}),re(5,"div",6)(6,"i",7),me(7,"person"),Z(),re(8,"input",8),mc("ngModelChange",function(c){return xn(s),pf(o.username,c)||(o.username=c),Sn(c)}),Z()(),re(9,"div",9)(10,"i",7),me(11,"lock"),Z(),re(12,"input",10,0),mc("ngModelChange",function(c){return xn(s),pf(o.password,c)||(o.password=c),Sn(c)}),Z(),re(14,"button",11),ft("click",function(){return xn(s),Sn(o.togglePasswordVisibility())}),re(15,"i",7),me(16),Z()()(),re(17,"button",12),me(18,"Login"),Z(),hi(19,bR,2,1,"div",13)(20,vR,1,0,"div",14),Z()()()}i&2&&(Me(8),pc("ngModel",o.username),Me(4),hf("type",o.inputType),pc("ngModel",o.password),Me(4),hc(o.passwordVisible?"visibility":"visibility_off"),Me(),Mn("disabled",o.isLoading),Me(2),Mn("ngIf",o.errorMessage),Me(),Mn("ngIf",o.isLoading))},dependencies:[U_,mw,Xc,cw,lw,Nh,Ah,Mh],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;overflow-x:hidden}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background-color:#292a2a}.logo[_ngcontent-%COMP%]{margin-bottom:20px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:170px}#login[_ngcontent-%COMP%]{max-width:400px;width:90%;background:#fff;border-radius:5px;box-shadow:0 0 10px #0000001a;padding:20px}#login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:20px}.input-group[_ngcontent-%COMP%]{margin-bottom:20px;position:relative}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 33px);border:1px solid #ddd;border-radius:3px;padding-left:41px;padding-top:10px;padding-bottom:10px}.input-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);left:10px;color:red}.password-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:0;position:absolute;top:50%;transform:translateY(-50%);left:323px}button[_ngcontent-%COMP%]{width:100%;background:red;border:none;color:#fff;padding:10px;cursor:pointer;border-radius:3px}button[_ngcontent-%COMP%]:hover{background:#8b0000}.loading-icon[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid red;border-radius:50%;border-top:3px solid transparent;border-bottom:3px solid transparent;animation:_ngcontent-ng-c2247809419_spin 1s linear infinite;position:relative;top:20px;left:163px}.error[_ngcontent-%COMP%]{text-align:center;padding-top:10px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media screen and (max-width: 767px){#login[_ngcontent-%COMP%]{width:70%}.password-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{left:191px}.loading-icon[_ngcontent-%COMP%]{left:96px}}"]});let t=e;return t})();var _R="firebase",yR="10.12.0";hn(_R,yR,"app");var br=new Vt("ANGULARFIRE2_VERSION");var wR=(t,e)=>{let n=e?[e]:hg(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},gr=class{constructor(){return wR(CR)}},CR="app-check";function kh(){}var el=class{zone;delegate;constructor(e,n=bu){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Oh=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",kh,{},kh,kh)),n.pipe(ye({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},tl=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new el(Zone.current)),this.insideAngular=n.run(()=>new el(Zone.current,Kn)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(m(F))};static \u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DR(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function ln(t){return IR(DR())(t)}function IR(t){return function(n){return n=n.lift(new Oh(t.ngZone)),n.pipe(yt(t.outsideAngular),st(t.insideAngular))}}var SR=new Map,TR={activated:!1,tokenObservers:[]},MR={initialized:!1,enabled:!1};function Tt(t){return SR.get(t)||Object.assign({},TR)}function Cw(){return MR}var AR="https://content-firebaseappcheck.googleapis.com/v1";var NR="exchangeDebugToken",vw={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},RH=24*60*60*1e3;var Ph=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return Ke(this,null,function*(){this.stop();try{this.pending=new we,this.pending.promise.catch(n=>{}),yield RR(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new we,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function RR(t){return new Promise(e=>{setTimeout(e,t)})}var kR={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Fn=new og("appCheck","AppCheck",kR);function Dw(t){if(!Tt(t).activated)throw Fn.create("use-before-activation",{appName:t.name})}function Iw(r,i){return Ke(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(h){throw Fn.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw Fn.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw Fn.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Fn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function Ew(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${AR}/projects/${n}/apps/${r}:${NR}?key=${i}`,body:{debug_token:e}}}var OR="firebase-app-check-database",FR=1,Lh="firebase-app-check-store";var nl=null;function PR(){return nl||(nl=new Promise((t,e)=>{try{let n=indexedDB.open(OR,FR);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Fn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Lh,{keyPath:"compositeKey"})}}}catch(n){e(Fn.create("storage-open",{originalErrorMessage:n?.message}))}}),nl)}function LR(t,e){return jR(VR(t),e)}function jR(t,e){return Ke(this,null,function*(){let r=(yield PR()).transaction(Lh,"readwrite"),o=r.objectStore(Lh).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Fn.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function VR(t){return`${t.options.appId}-${t.name}`}var jh=new Nr("@firebase/app-check");function Fh(t,e){return ig()?LR(t,e).catch(n=>{jh.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function xw(){return Cw().enabled}function Sw(){return Ke(this,null,function*(){let t=Cw();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var BR={error:"UNKNOWN_ERROR"};function UR(t){return Bs.encodeString(JSON.stringify(t),!1)}function Vh(t,e=!1){return Ke(this,null,function*(){let n=t.app;Dw(n);let r=Tt(n),i=r.token,o;if(i&&!es(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(es(c)?i=c:yield Fh(n,void 0))}if(!e&&i&&es(i))return{token:i.token};let s=!1;if(xw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Iw(Ew(n,yield Sw()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield Fh(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Tt(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?jh.warn(c.message):jh.error(c),o=c}let a;return i?o?es(i)?a={token:i.token,internalError:o}:a=yw(o):(a={token:i.token},r.token=i,yield Fh(n,i)):a=yw(o),s&&WR(n,a),a})}function $R(t){return Ke(this,null,function*(){let e=t.app;Dw(e);let{provider:n}=Tt(e);if(xw()){let r=yield Sw(),{token:i}=yield Iw(Ew(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function HR(t,e,n,r){let{app:i}=t,o=Tt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&es(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),_w(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>_w(t))}function Tw(t,e){let n=Tt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function _w(t){let{app:e}=t,n=Tt(e),r=n.tokenRefresher;r||(r=zR(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function zR(t){let{app:e}=t;return new Ph(()=>Ke(this,null,function*(){let n=Tt(e),r;if(n.token?r=yield Vh(t,!0):r=yield Vh(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Tt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},vw.RETRIAL_MIN_WAIT,vw.RETRIAL_MAX_WAIT)}function WR(t,e){let n=Tt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function es(t){return t.expireTimeMillis-Date.now()>0}function yw(t){return{token:UR(BR),error:t}}var Bh=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Tt(this.app);for(let n of e)Tw(this.app,n.next);return Promise.resolve()}};function GR(t,e){return new Bh(t,e)}function qR(t){return{getToken:e=>Vh(t,e),getLimitedUseToken:()=>$R(t),addTokenListener:e=>HR(t,"INTERNAL",e),removeTokenListener:e=>Tw(t.app,e)}}var YR="@firebase/app-check",KR="0.8.4";var QR="app-check",ww="app-check-internal";function ZR(){Qi(new Zt(QR,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return GR(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(ww).initialize()})),Qi(new Zt(ww,t=>{let e=t.getProvider("app-check").getImmediate();return qR(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),hn(YR,KR)}ZR();var XR=["localhost","0.0.0.0","127.0.0.1"],zH=typeof window<"u"&&XR.includes(window.location.hostname);var JR="firebase",ek="10.12.0";Fe.registerVersion(JR,ek,"app-compat");var tk=["ngOnDestroy"],Nw=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(tk.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(u=>{let d=u?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,d),d})})})});var rl=class{constructor(e){return e}},Mi=new w("angularfire2.app.options"),Ai=new w("angularfire2.app.name");function ts(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=Fe.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Fe.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;nk("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new rl(s)}var nk=(t,...e)=>{_f()&&typeof console<"u"&&console[t](...e)},rk={provide:rl,useFactory:ts,deps:[Mi,F,[new ai,Ai]]},Rw=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Mi,useValue:n},{provide:Ai,useValue:r}]}}constructor(n){Fe.registerVersion("angularfire",br.full,"core"),Fe.registerVersion("angularfire",br.full,"app-compat"),Fe.registerVersion("angular",v_.full,n.toString())}static \u0275fac=function(r){return new(r||t)(m(Re))};static \u0275mod=z({type:t});static \u0275inj=H({providers:[rk]})}return t})();function il(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return ik(i,s)||(Aw("error",`${e} was already initialized on the ${n} Firebase App with different settings.${ok?" You may need to reload as Firebase is not HMR aware.":""}`),Aw("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function ik(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var ok=typeof module<"u"&&!!module.hot,Aw=(t,...e)=>{_f()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Uh=new w("angularfire2.auth.use-emulator"),$h=new w("angularfire2.auth.settings"),Hh=new w("angularfire2.auth.tenant-id"),zh=new w("angularfire2.auth.langugage-code"),Wh=new w("angularfire2.auth.use-device-language"),Gh=new w("angularfire.auth.persistence"),qh=(t,e,n,r,i,o,s,a)=>il(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[l,u]of Object.entries(s))c.settings[l]=u;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]),ns=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,c,l,u,d,f,h){let p=new ce,b=I(void 0).pipe(st(s.outsideAngular),se(()=>o.runOutsideAngular(()=>import("./chunk-OQJ2OADY.js"))),S(()=>ts(n,o,r)),S(D=>qh(D,o,a,l,u,d,c,f)),ma({bufferSize:1,refCount:!1}));if(Io(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=I(null);else{b.pipe(at()).subscribe();let D=b.pipe(se(O=>O.getRedirectResult().then(he=>he,()=>null)),ln,ma({bufferSize:1,refCount:!1})),E=b.pipe(se(O=>new P(he=>({unsubscribe:o.runOutsideAngular(()=>O.onAuthStateChanged(He=>he.next(He),He=>he.error(He),()=>he.complete()))})))),Y=b.pipe(se(O=>new P(he=>({unsubscribe:o.runOutsideAngular(()=>O.onIdTokenChanged(He=>he.next(He),He=>he.error(He),()=>he.complete()))}))));this.authState=D.pipe(ga(E),yt(s.outsideAngular),st(s.insideAngular)),this.user=D.pipe(ga(Y),yt(s.outsideAngular),st(s.insideAngular)),this.idToken=this.user.pipe(se(O=>O?J(O.getIdToken()):I(null))),this.idTokenResult=this.user.pipe(se(O=>O?J(O.getIdTokenResult()):I(null))),this.credential=Hr(D,p,this.authState.pipe(Ae(O=>!O))).pipe(S(O=>O?.user?O:null),yt(s.outsideAngular),st(s.insideAngular))}return Nw(this,b,o,{spy:{apply:(D,E,Y)=>{(D.startsWith("signIn")||D.startsWith("createUser"))&&Y.then(O=>p.next(O))}}})}static \u0275fac=function(r){return new(r||t)(m(Mi),m(Ai,8),m(Re),m(F),m(tl),m(Uh,8),m($h,8),m(Hh,8),m(zh,8),m(Wh,8),m(Gh,8),m(gr,8))};static \u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),kw=(()=>{class t{constructor(){Fe.registerVersion("angularfire",br.full,"auth-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=z({type:t});static \u0275inj=H({providers:[ns]})}return t})();var Fw="@firebase/database",Pw="1.0.5";var om="";function sm(t){om=t}var tp=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ge(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Us(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var np=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ot(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var h0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new tp(e)}}catch{}return new np},_r=h0("localStorage"),rp=h0("sessionStorage");var Oi=new Nr("@firebase/database"),p0=function(){let t=1;return function(){return t++}}(),m0=function(t){let e=ug(t),n=new lg;n.update(e);let r=n.digest();return Bs.encodeByteArray(r)},xs=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=xs.apply(null,r):typeof r=="object"?e+=ge(r):e+=r,e+=" "}return e},yr=null,Lw=!0,g0=function(t,e){g(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Oi.logLevel=dg.VERBOSE,yr=Oi.log.bind(Oi),e&&rp.set("logging_enabled",!0)):typeof t=="function"?yr=t:(yr=null,rp.remove("logging_enabled"))},Ie=function(...t){if(Lw===!0&&(Lw=!1,yr===null&&rp.get("logging_enabled")===!0&&g0(!0)),yr){let e=xs.apply(null,t);yr(e)}},Ss=function(t){return function(...e){Ie(t,...e)}},ip=function(...t){let e="FIREBASE INTERNAL ERROR: "+xs(...t);Oi.error(e)},Yt=function(...t){let e=`FIREBASE FATAL ERROR: ${xs(...t)}`;throw Oi.error(e),new Error(e)},ke=function(...t){let e="FIREBASE WARNING: "+xs(...t);Oi.warn(e)},sk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ke("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Rl=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ak=function(t){if(Nt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Vn="[MIN_NAME]",un="[MAX_NAME]",Cr=function(t,e){if(t===e)return 0;if(t===Vn||e===un)return-1;if(e===Vn||t===un)return 1;{let n=jw(t),r=jw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},ck=function(t,e){return t===e?0:t<e?-1:1},rs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ge(e))},am=function(t){if(typeof t!="object"||t===null)return ge(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ge(e[r]),n+=":",n+=am(t[e[r]]);return n+="}",n},b0=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ee(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var v0=function(t){g(!Rl(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},lk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},uk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function dk(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var fk=new RegExp("^-?(0*)\\d{1,10}$"),hk=-2147483648,pk=2147483647,jw=function(t){if(fk.test(t)){let e=Number(t);if(e>=hk&&e<=pk)return e}return null},Hi=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw ke("Exception was thrown by user callback.",n),e},Math.floor(0))}},mk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},as=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var op=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ke(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var sp=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ie("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ke(e)}},cs=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),sl="5",_0="v",y0="s",w0="r",C0="f",D0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,I0="ls",E0="p",ap="ac",x0="websocket",S0="long_polling";var al=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_r.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_r.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function gk(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function T0(t,e,n){g(typeof e=="string","typeof type must == string"),g(typeof n=="object","typeof params must == object");let r;if(e===x0)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===S0)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);gk(t)&&(n.ns=t.namespace);let i=[];return Ee(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var cp=class{constructor(){this.counters_={}}incrementCounter(e,n=1){ot(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return tg(this.counters_)}};var Yh={},Kh={};function cm(t){let e=t.toString();return Yh[e]||(Yh[e]=new cp),Yh[e]}function bk(t,e){let n=t.toString();return Kh[n]||(Kh[n]=e()),Kh[n]}var lp=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Hi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var Vw="start",vk="close",_k="pLPCommand",yk="pRTLPCB",M0="id",A0="pw",N0="ser",wk="cb",Ck="seg",Dk="ts",Ik="d",Ek="dframe",R0=1870,k0=30,xk=R0-k0,Sk=25e3,Tk=3e4,fs=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ss(e),this.stats_=cm(n),this.urlFn=c=>(this.appCheckToken&&(c[ap]=this.appCheckToken),T0(n,S0,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new lp(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Tk)),ak(()=>{if(this.isClosed_)return;this.scriptTagHolder=new up((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Vw)this.id=a,this.password=c;else if(s===vk)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[Vw]="t",r[N0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[wk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[_0]=sl,this.transportSessionId&&(r[y0]=this.transportSessionId),this.lastSessionId&&(r[I0]=this.lastSessionId),this.applicationId&&(r[E0]=this.applicationId),this.appCheckToken&&(r[ap]=this.appCheckToken),typeof location<"u"&&location.hostname&&D0.test(location.hostname)&&(r[w0]=C0);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Nt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!lk()&&!uk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=ge(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=eg(n),i=b0(r,xk);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Nt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Ek]="t",r[M0]=e,r[A0]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=ge(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},up=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Nt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p0(),window[_k+this.uniqueCallbackIdentifier]=e,window[yk+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ie("frame writing exception"),a.stack&&Ie(a.stack),Ie(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ie("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[M0]=this.myID,e[A0]=this.myPW,e[N0]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+k0+r.length<=R0;){let s=this.pendingSegs.shift();r=r+"&"+Ck+i+"="+s.seg+"&"+Dk+i+"="+s.ts+"&"+Ik+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Sk)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){Nt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ie("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var Mk=16384,Ak=45e3,cl=null;typeof MozWebSocket<"u"?cl=MozWebSocket:typeof WebSocket<"u"&&(cl=WebSocket);var Ri=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ss(this.connId),this.stats_=cm(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[_0]=sl,!Nt()&&typeof location<"u"&&location.hostname&&D0.test(location.hostname)&&(a[w0]=C0),r&&(a[y0]=r),i&&(a[I0]=i),o&&(a[ap]=o),s&&(a[E0]=s),T0(n,x0,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_r.set("previous_websocket_failure",!0);try{let i;if(Nt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${sl}/${om}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new cl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&cl!==null&&!t.forceDisallow_}static previouslyFailed(){return _r.isInMemoryStorage||_r.get("previous_websocket_failure")===!0}markConnectionHealthy(){_r.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Us(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(g(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=ge(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=b0(r,Mk);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ak))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),O0=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[fs,Ri]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Ri&&Ri.isAvailable(),i=r&&!Ri.previouslyFailed();if(n.webSocketOnly&&(r||ke("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ri];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),Nk=6e4,Rk=5e3,kk=10*1024,Ok=100*1024,Qh="t",Bw="d",Fk="s",Uw="r",Pk="e",$w="o",Hw="a",zw="n",Ww="p",Lk="h",dp=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ss("c:"+this.id+":"),this.transportManager_=new O0(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=as(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Ok?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>kk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Qh in e){let n=e[Qh];n===Hw?this.upgradeIfSecondaryHealthy_():n===Uw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$w&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=rs("t",e),r=rs("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ww,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Hw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:zw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=rs("t",e),r=rs("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=rs(Qh,e);if(Bw in e){let r=e[Bw];if(n===Lk){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===zw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Fk?this.onConnectionShutdown_(r):n===Uw?this.onReset_(r):n===Pk?ip("Server Error: "+r):n===$w?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ip("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),sl!==r&&ke("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),as(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Nk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):as(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Rk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ww,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_r.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var ll=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var ul=class{constructor(e){this.allowedEvents_=e,this.listeners_={},g(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){g(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var dl=class t extends ul{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!eu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return g(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var Gw=32,qw=768,q=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function G(){return new q("")}function L(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Bn(t){return t.pieces_.length-t.pieceNum_}function ne(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new q(t.pieces_,e)}function lm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function jk(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function hs(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function F0(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new q(e,0)}function ae(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof q)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new q(n,0)}function j(t){return t.pieceNum_>=t.pieces_.length}function Be(t,e){let n=L(t),r=L(e);if(n===null)return e;if(n===r)return Be(ne(t),ne(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Vk(t,e){let n=hs(t,0),r=hs(e,0);for(let i=0;i<n.length&&i<r.length;i++){let o=Cr(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function um(t,e){if(Bn(t)!==Bn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function pt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Bn(t)>Bn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var fp=class{constructor(e,n){this.errorPrefix_=n,this.parts_=hs(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ki(this.parts_[r]);P0(this)}};function Bk(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ki(e),P0(t)}function Uk(t){let e=t.parts_.pop();t.byteLength_-=Ki(e),t.parts_.length>0&&(t.byteLength_-=1)}function P0(t){if(t.byteLength_>qw)throw new Error(t.errorPrefix_+"has a key path longer than "+qw+" bytes ("+t.byteLength_+").");if(t.parts_.length>Gw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Gw+") or object contains a cycle "+vr(t))}function vr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var hp=class t extends ul{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return g(e==="visible","Unknown event type: "+e),[this.visible_]}};var is=1e3,$k=60*5*1e3,Yw=30*1e3,Hk=1.3,zk=3e4,Wk="server_kill",Kw=3,dm=(()=>{class t extends ll{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=Ss("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=is,this.maxReconnectDelay_=$k,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Nt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hp.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&dl.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(ge(s)),g(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new we,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),g(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),g(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&ot(n,"w")){let i=fn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();ke(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||ag(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Yw)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=sg(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),g(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ge(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):ip("Unrecognized action received from server: "+ge(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){g(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=is,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=is,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>zk&&(this.reconnectDelay_=is),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Hk)}this.onConnectStatus_(!1)}establishConnection_(){return Ke(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){g(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ie("getToken() completed but was canceled"):(Ie("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new dp(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{ke(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Wk)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&ke(f),l())}}})}interrupt(n){Ie("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ie("Resuming connection for reason: "+n),delete this.interruptReasons_[n],$s(this.interruptReasons_)&&(this.reconnectDelay_=is,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>am(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new q(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ie("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Kw&&(this.reconnectDelay_=Yw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ie("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Kw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Nt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+om.replace(/\./g,"-")]=1,eu()?n["framework.cordova"]=1:rg()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=dl.getInstance().currentlyOnline();return $s(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),U=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Fi=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new U(Vn,e),i=new U(Vn,n);return this.compare(r,i)!==0}minPost(){return U.MIN}};var ol,fl=class extends Fi{static get __EMPTY_NODE(){return ol}static set __EMPTY_NODE(e){ol=e}compare(e,n){return Cr(e.name,n.name)}isDefinedOn(e){throw Ar("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return U.MIN}maxPost(){return new U(un,ol)}makePost(e,n){return g(typeof e=="string","KeyIndex indexValue must always be a string."),new U(e,ol)}toString(){return".key"}},qt=new fl;var ki=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Mt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??mt.EMPTY_NODE,this.right=s??mt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return mt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return mt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),pp=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new Mt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},mt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Mt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Mt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ki(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ki(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ki(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ki(this.root_,null,this.comparator_,!0,e)}};mt.EMPTY_NODE=new pp;function Gk(t,e){return Cr(t.name,e.name)}function fm(t,e){return Cr(t,e)}var mp;function qk(t){mp=t}var L0=function(t){return typeof t=="number"?"number:"+v0(t):"string:"+t},j0=function(t){if(t.isLeafNode()){let e=t.val();g(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ot(e,".sv"),"Priority must be a string or number.")}else g(t===mp||t.isEmpty(),"priority of unexpected type.");g(t===mp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Qw,Pi=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,g(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),j0(this.priorityNode_)}static set __childrenNodeConstructor(n){Qw=n}static get __childrenNodeConstructor(){return Qw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return j(n)?this:L(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=L(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(g(i!==".priority"||Bn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ne(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+L0(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=v0(this.value_):n+=this.value_,this.lazyHash_=m0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(g(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return g(o>=0,"Unknown leaf type: "+r),g(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),V0,B0;function Yk(t){V0=t}function Kk(t){B0=t}var gp=class extends Fi{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Cr(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return U.MIN}maxPost(){return new U(un,new Pi("[PRIORITY-POST]",B0))}makePost(e,n){let r=V0(e);return new U(n,new Pi("[PRIORITY-POST]",r))}toString(){return".priority"}},ie=new gp;var Qk=Math.log(2),bp=class{constructor(e){let n=o=>parseInt(Math.log(o)/Qk,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},hl=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new Mt(f,d.node,Mt.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),b=i(h+1,l);return d=t[h],f=n?n(d):d,new Mt(f,d.node,Mt.BLACK,p,b)}},o=function(c){let l=null,u=null,d=t.length,f=function(p,b){let D=d-p,E=d;d-=p;let Y=i(D+1,E),O=t[D],he=n?n(O):O;h(new Mt(he,O.node,b,null,Y))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let b=c.nextBitIsOne(),D=Math.pow(2,c.count-(p+1));b?f(D,Mt.BLACK):(f(D,Mt.BLACK),f(D,Mt.RED))}return u},s=new bp(t.length),a=o(s);return new mt(r||e,a)};var Zh,Ni={},Li=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return g(Ni&&ie,"ChildrenNode.ts has not been loaded"),Zh=Zh||new t({".priority":Ni},{".priority":ie}),Zh}get(e){let n=fn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof mt?n:null}hasIndex(e){return ot(this.indexSet_,e.toString())}addIndex(e,n){g(e!==qt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(U.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=hl(r,e.getCompare()):a=Ni;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=Yi(this.indexes_,(i,o)=>{let s=fn(this.indexSet_,o);if(g(s,"Missing index implementation for "+o),i===Ni)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(U.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),hl(a,s.getCompare())}else return Ni;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new U(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Yi(this.indexes_,i=>{if(i===Ni)return i;{let o=n.get(e.name);return o?i.remove(new U(e.name,o)):i}});return new t(r,this.indexSet_)}};var os,R=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&j0(this.priorityNode_),this.children_.isEmpty()&&g(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return os||(os=new t(new mt(fm),null,Li.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||os}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?os:r}}getChild(n){let r=L(n);return r===null?this:this.getImmediateChild(r).getChild(ne(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(g(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new U(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?os:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=L(n);if(i===null)return r;{g(L(n)!==".priority"||Bn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ne(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(ie,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+L0(this.getPriority().val())+":"),this.forEachChild(ie,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":m0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new U(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new U(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new U(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,U.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,U.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ts?-1:0}withIndex(n){if(n===qt||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===qt||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ie),o=r.getIterator(ie),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===qt?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),vp=class extends R{constructor(){super(new mt(fm),R.EMPTY_NODE,Li.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return R.EMPTY_NODE}isEmpty(){return!1}},Ts=new vp;Object.defineProperties(U,{MIN:{value:new U(Vn,R.EMPTY_NODE)},MAX:{value:new U(un,Ts)}});fl.__EMPTY_NODE=R.EMPTY_NODE;Pi.__childrenNodeConstructor=R;qk(Ts);Kk(Ts);var Zk=!0;function le(t,e=null){if(t===null)return R.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),g(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Pi(n,le(e))}if(!(t instanceof Array)&&Zk){let n=[],r=!1;if(Ee(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=le(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new U(s,c)))}}),n.length===0)return R.EMPTY_NODE;let o=hl(n,Gk,s=>s.name,fm);if(r){let s=hl(n,ie.getCompare());return new R(o,le(e),new Li({".priority":s},{".priority":ie}))}else return new R(o,le(e),Li.Default)}else{let n=R.EMPTY_NODE;return Ee(t,(r,i)=>{if(ot(t,r)&&r.substring(0,1)!=="."){let o=le(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(le(e))}}Yk(le);var ps=class extends Fi{constructor(e){super(),this.indexPath_=e,g(!j(e)&&L(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Cr(e.name,n.name):o}makePost(e,n){let r=le(e),i=R.EMPTY_NODE.updateChild(this.indexPath_,r);return new U(n,i)}maxPost(){let e=R.EMPTY_NODE.updateChild(this.indexPath_,Ts);return new U(un,e)}toString(){return hs(this.indexPath_,0).join("/")}};var _p=class extends Fi{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Cr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return U.MIN}maxPost(){return U.MAX}makePost(e,n){let r=le(e);return new U(n,r)}toString(){return".value"}},hm=new _p;function U0(t){return{type:"value",snapshotNode:t}}function ji(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ms(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function gs(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Xk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var bs=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){g(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(ms(n,a)):g(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ji(n,r)):s.trackChildChange(gs(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ie,(i,o)=>{n.hasChild(i)||r.trackChildChange(ms(i,o))}),n.isLeafNode()||n.forEachChild(ie,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(gs(i,o,s))}else r.trackChildChange(ji(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?R.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var pl=class t{constructor(e){this.indexedFilter_=new bs(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new U(n,r))||(r=R.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=R.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(R.EMPTY_NODE);let o=this;return n.forEachChild(ie,(s,a)=>{o.matches(new U(s,a))||(i=i.updateImmediateChild(s,R.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var yp=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new pl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new U(n,r))||(r=R.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=R.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=R.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(R.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,R.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;g(a.numChildren()===this.limit_,"");let c=new U(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(gs(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(ms(n,d));let b=a.updateImmediateChild(n,R.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(ji(f.name,f.node)),b.updateImmediateChild(f.name,f.node)):b}}else return r.isEmpty()?e:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(ms(l.name,l.node)),o.trackChildChange(ji(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,R.EMPTY_NODE)):e}};var vs=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return g(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return g(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vn}hasEnd(){return this.endSet_}getIndexEndValue(){return g(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return g(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:un}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return g(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ie}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function Jk(t){return t.loadsAllData()?new bs(t.getIndex()):t.hasLimit()?new yp(t):new pl(t)}function eO(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function tO(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function wp(t,e,n){let r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function nO(t,e,n){let r;return t.index_===qt||n?r=wp(t,e,n):r=wp(t,e,un),r.startAfterSet_=!0,r}function Cp(t,e,n){let r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function rO(t,e,n){let r;return t.index_===qt||n?r=Cp(t,e,n):r=Cp(t,e,Vn),r.endBeforeSet_=!0,r}function kl(t,e){let n=t.copy();return n.index_=e,n}function Zw(t){let e={};if(t.isDefault())return e;let n;if(t.index_===ie?n="$priority":t.index_===hm?n="$value":t.index_===qt?n="$key":(g(t.index_ instanceof ps,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ge(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=ge(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ge(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ge(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ge(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Xw(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ie&&(e.i=t.index_.toString()),e}var Dp=class t extends ll{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ss("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(g(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=Zw(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),fn(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=Zw(e._queryParams),r=e._path.toString(),i=new we;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+cg(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Us(a.responseText)}catch{ke("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&ke("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Ip=class{constructor(){this.rootNode_=R.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function ml(){return{value:null,children:new Map}}function zi(t,e,n){if(j(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=L(e);t.children.has(r)||t.children.set(r,ml());let i=t.children.get(r);e=ne(e),zi(i,e,n)}}function Ep(t,e){if(j(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(ie,(r,i)=>{zi(t,new q(r),i)}),Ep(t,e)}}else if(t.children.size>0){let n=L(e);return e=ne(e),t.children.has(n)&&Ep(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function xp(t,e,n){t.value!==null?n(e,t.value):iO(t,(r,i)=>{let o=new q(e.toString()+"/"+r);xp(i,o,n)})}function iO(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Sp=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ee(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var Jw=10*1e3,oO=30*1e3,sO=5*60*1e3,Tp=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Sp(e);let r=Jw+(oO-Jw)*Math.random();as(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Ee(e,(i,o)=>{o>0&&ot(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),as(this.reportStats_.bind(this),Math.floor(Math.random()*2*sO))}};var Gt=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Gt||{});function pm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function mm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function gm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Mp=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Gt.ACK_USER_WRITE,this.source=pm()}operationForChild(e){if(j(this.path)){if(this.affectedTree.value!=null)return g(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new q(e));return new t(G(),n,this.revert)}}else return g(L(this.path)===e,"operationForChild called for unrelated child."),new t(ne(this.path),this.affectedTree,this.revert)}};var gl=class t{constructor(e,n){this.source=e,this.path=n,this.type=Gt.LISTEN_COMPLETE}operationForChild(e){return j(this.path)?new t(this.source,G()):new t(this.source,ne(this.path))}};var Vi=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Gt.OVERWRITE}operationForChild(e){return j(this.path)?new t(this.source,G(),this.snap.getImmediateChild(e)):new t(this.source,ne(this.path),this.snap)}};var _s=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Gt.MERGE}operationForChild(e){if(j(this.path)){let n=this.children.subtree(new q(e));return n.isEmpty()?null:n.value?new Vi(this.source,G(),n.value):new t(this.source,G(),n)}else return g(L(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Kt=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(j(e))return this.isFullyInitialized()&&!this.filtered_;let n=L(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Ap=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function aO(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Xk(s.childName,s.snapshotNode))}),ss(t,i,"child_removed",e,r,n),ss(t,i,"child_added",e,r,n),ss(t,i,"child_moved",o,r,n),ss(t,i,"child_changed",e,r,n),ss(t,i,"value",e,r,n),i}function ss(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>lO(t,a,c)),s.forEach(a=>{let c=cO(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function cO(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function lO(t,e,n){if(e.childName==null||n.childName==null)throw Ar("Should only compare child_ events.");let r=new U(e.childName,e.snapshotNode),i=new U(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Ol(t,e){return{eventCache:t,serverCache:e}}function ls(t,e,n,r){return Ol(new Kt(e,n,r),t.serverCache)}function $0(t,e,n,r){return Ol(t.eventCache,new Kt(e,n,r))}function bl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function wr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Xh,uO=()=>(Xh||(Xh=new mt(ck)),Xh),Ue=class t{constructor(e,n=uO()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Ee(e,(r,i)=>{n=n.set(new q(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:G(),value:this.value};if(j(e))return null;{let r=L(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ne(e),n);return o!=null?{path:ae(new q(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(j(e))return this;{let n=L(e),r=this.children.get(n);return r!==null?r.subtree(ne(e)):new t(null)}}set(e,n){if(j(e))return new t(n,this.children);{let r=L(e),o=(this.children.get(r)||new t(null)).set(ne(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(j(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=L(e),r=this.children.get(n);if(r){let i=r.remove(ne(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(j(e))return this.value;{let n=L(e),r=this.children.get(n);return r?r.get(ne(e)):null}}setTree(e,n){if(j(e))return n;{let r=L(e),o=(this.children.get(r)||new t(null)).setTree(ne(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(G(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(ae(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,G(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(j(e))return null;{let o=L(e),s=this.children.get(o);return s?s.findOnPath_(ne(e),ae(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,G(),n)}foreachOnPath_(e,n,r){if(j(e))return this;{this.value&&r(n,this.value);let i=L(e),o=this.children.get(i);return o?o.foreachOnPath_(ne(e),ae(n,i),r):new t(null)}}foreach(e){this.foreach_(G(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ae(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var At=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Ue(null))}};function us(t,e,n){if(j(e))return new At(new Ue(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Be(i,e);return o=o.updateChild(s,n),new At(t.writeTree_.set(i,o))}else{let i=new Ue(n),o=t.writeTree_.setTree(e,i);return new At(o)}}}function Np(t,e,n){let r=t;return Ee(n,(i,o)=>{r=us(r,ae(e,i),o)}),r}function e0(t,e){if(j(e))return At.empty();{let n=t.writeTree_.setTree(e,new Ue(null));return new At(n)}}function Rp(t,e){return Dr(t,e)!=null}function Dr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Be(n.path,e)):null}function t0(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ie,(r,i)=>{e.push(new U(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new U(r,i.value))}),e}function Ln(t,e){if(j(e))return t;{let n=Dr(t,e);return n!=null?new At(new Ue(n)):new At(t.writeTree_.subtree(e))}}function kp(t){return t.writeTree_.isEmpty()}function Bi(t,e){return H0(G(),t.writeTree_,e)}function H0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(g(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=H0(ae(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ae(t,".priority"),r)),n}}function Fl(t,e){return q0(e,t)}function dO(t,e,n,r,i){g(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=us(t.visibleWrites,e,n)),t.lastWriteId=r}function fO(t,e,n,r){g(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Np(t.visibleWrites,e,n),t.lastWriteId=r}function hO(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function pO(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);g(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&mO(a,r.path)?i=!1:pt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return gO(t),!0;if(r.snap)t.visibleWrites=e0(t.visibleWrites,r.path);else{let a=r.children;Ee(a,c=>{t.visibleWrites=e0(t.visibleWrites,ae(r.path,c))})}return!0}else return!1}function mO(t,e){if(t.snap)return pt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&pt(ae(t.path,n),e))return!0;return!1}function gO(t){t.visibleWrites=z0(t.allWrites,bO,G()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function bO(t){return t.visible}function z0(t,e,n){let r=At.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)pt(n,s)?(a=Be(n,s),r=us(r,a,o.snap)):pt(s,n)&&(a=Be(s,n),r=us(r,G(),o.snap.getChild(a)));else if(o.children){if(pt(n,s))a=Be(n,s),r=Np(r,a,o.children);else if(pt(s,n))if(a=Be(s,n),j(a))r=Np(r,G(),o.children);else{let c=fn(o.children,L(a));if(c){let l=c.getChild(ne(a));r=us(r,G(),l)}}}else throw Ar("WriteRecord should have .snap or .children")}}return r}function W0(t,e,n,r,i){if(!r&&!i){let o=Dr(t.visibleWrites,e);if(o!=null)return o;{let s=Ln(t.visibleWrites,e);if(kp(s))return n;if(n==null&&!Rp(s,G()))return null;{let a=n||R.EMPTY_NODE;return Bi(s,a)}}}else{let o=Ln(t.visibleWrites,e);if(!i&&kp(o))return n;if(!i&&n==null&&!Rp(o,G()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(pt(l.path,e)||pt(e,l.path))},a=z0(t.allWrites,s,e),c=n||R.EMPTY_NODE;return Bi(a,c)}}}function vO(t,e,n){let r=R.EMPTY_NODE,i=Dr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ie,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Ln(t.visibleWrites,e);return n.forEachChild(ie,(s,a)=>{let c=Bi(Ln(o,new q(s)),a);r=r.updateImmediateChild(s,c)}),t0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Ln(t.visibleWrites,e);return t0(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function _O(t,e,n,r,i){g(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=ae(e,n);if(Rp(t.visibleWrites,o))return null;{let s=Ln(t.visibleWrites,o);return kp(s)?i.getChild(n):Bi(s,i.getChild(n))}}function yO(t,e,n,r){let i=ae(e,n),o=Dr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Ln(t.visibleWrites,i);return Bi(s,r.getNode().getImmediateChild(n))}else return null}function wO(t,e){return Dr(t.visibleWrites,e)}function CO(t,e,n,r,i,o,s){let a,c=Ln(t.visibleWrites,e),l=Dr(c,G());if(l!=null)a=l;else if(n!=null)a=Bi(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function DO(){return{visibleWrites:At.empty(),allWrites:[],lastWriteId:-1}}function vl(t,e,n,r){return W0(t.writeTree,t.treePath,e,n,r)}function bm(t,e){return vO(t.writeTree,t.treePath,e)}function n0(t,e,n,r){return _O(t.writeTree,t.treePath,e,n,r)}function _l(t,e){return wO(t.writeTree,ae(t.treePath,e))}function IO(t,e,n,r,i,o){return CO(t.writeTree,t.treePath,e,n,r,i,o)}function vm(t,e,n){return yO(t.writeTree,t.treePath,e,n)}function G0(t,e){return q0(ae(t.treePath,e),t.writeTree)}function q0(t,e){return{treePath:t,writeTree:e}}var Op=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;g(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),g(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,gs(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,ms(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,ji(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,gs(r,e.snapshotNode,i.oldSnap));else throw Ar("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Fp=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},Y0=new Fp,ys=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Kt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vm(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wr(this.viewCache_),o=IO(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function EO(t){return{filter:t}}function xO(t,e){g(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),g(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function SO(t,e,n,r,i){let o=new Op,s,a;if(n.type===Gt.OVERWRITE){let l=n;l.source.fromUser?s=Pp(t,e,l.path,l.snap,r,i,o):(g(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!j(l.path),s=yl(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===Gt.MERGE){let l=n;l.source.fromUser?s=MO(t,e,l.path,l.children,r,i,o):(g(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Lp(t,e,l.path,l.children,r,i,a,o))}else if(n.type===Gt.ACK_USER_WRITE){let l=n;l.revert?s=RO(t,e,l.path,r,i,o):s=AO(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===Gt.LISTEN_COMPLETE)s=NO(t,e,n.path,r,o);else throw Ar("Unknown operation type: "+n.type);let c=o.getChanges();return TO(e,s,c),{viewCache:s,changes:c}}function TO(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=bl(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(U0(bl(e)))}}function K0(t,e,n,r,i,o){let s=e.eventCache;if(_l(r,n)!=null)return e;{let a,c;if(j(n))if(g(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=wr(e),u=l instanceof R?l:R.EMPTY_NODE,d=bm(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=vl(r,wr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=L(n);if(l===".priority"){g(Bn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=n0(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=ne(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=n0(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=vm(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return ls(e,a,s.isFullyInitialized()||j(n),t.filter.filtersNodes())}}function yl(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(j(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=L(n);if(!c.isCompleteForPath(n)&&Bn(n)>1)return e;let p=ne(n),D=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),D):l=u.updateChild(c.getNode(),h,D,p,Y0,null)}let d=$0(e,l,c.isFullyInitialized()||j(n),u.filtersNodes()),f=new ys(i,d,o);return K0(t,d,n,i,f,a)}function Pp(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new ys(i,e,o);if(j(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=ls(e,l,!0,t.filter.filtersNodes());else{let d=L(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=ls(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=ne(n),h=a.getNode().getImmediateChild(d),p;if(j(f))p=r;else{let b=u.getCompleteChild(d);b!=null?lm(f)===".priority"&&b.getChild(F0(f)).isEmpty()?p=b:p=b.updateChild(f,r):p=R.EMPTY_NODE}if(h.equals(p))c=e;else{let b=t.filter.updateChild(a.getNode(),d,p,f,u,s);c=ls(e,b,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function r0(t,e){return t.eventCache.isCompleteForChild(e)}function MO(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=ae(n,c);r0(e,L(u))&&(a=Pp(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=ae(n,c);r0(e,L(u))||(a=Pp(t,a,u,l,i,o,s))}),a}function i0(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Lp(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;j(n)?l=r:l=new Ue(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=i0(t,h,f);c=yl(t,c,new q(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),b=i0(t,p,f);c=yl(t,c,new q(d),b,i,o,s,a)}}),c}function AO(t,e,n,r,i,o,s){if(_l(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(j(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return yl(t,e,n,c.getNode().getChild(n),i,o,a,s);if(j(n)){let l=new Ue(null);return c.getNode().forEachChild(qt,(u,d)=>{l=l.set(new q(u),d)}),Lp(t,e,n,l,i,o,a,s)}else return e}else{let l=new Ue(null);return r.foreach((u,d)=>{let f=ae(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Lp(t,e,n,l,i,o,a,s)}}function NO(t,e,n,r,i){let o=e.serverCache,s=$0(e,o.getNode(),o.isFullyInitialized()||j(n),o.isFiltered());return K0(t,s,n,r,Y0,i)}function RO(t,e,n,r,i,o){let s;if(_l(r,n)!=null)return e;{let a=new ys(r,e,i),c=e.eventCache.getNode(),l;if(j(n)||L(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=vl(r,wr(e));else{let d=e.serverCache.getNode();g(d instanceof R,"serverChildren would be complete if leaf node"),u=bm(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=L(n),d=vm(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,ne(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,R.EMPTY_NODE,ne(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=vl(r,wr(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||_l(r,G())!=null,ls(e,l,s,t.filter.filtersNodes())}}var jp=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new bs(r.getIndex()),o=Jk(r);this.processor_=EO(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(R.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(R.EMPTY_NODE,a.getNode(),null),u=new Kt(c,s.isFullyInitialized(),i.filtersNodes()),d=new Kt(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ol(d,u),this.eventGenerator_=new Ap(this.query_)}get query(){return this.query_}};function kO(t){return t.viewCache_.serverCache.getNode()}function OO(t){return bl(t.viewCache_)}function FO(t,e){let n=wr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!j(e)&&!n.getImmediateChild(L(e)).isEmpty())?n.getChild(e):null}function o0(t){return t.eventRegistrations_.length===0}function PO(t,e){t.eventRegistrations_.push(e)}function s0(t,e,n){let r=[];if(n){g(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function a0(t,e,n,r){e.type===Gt.MERGE&&e.source.queryId!==null&&(g(wr(t.viewCache_),"We should always have a full cache before handling merges"),g(bl(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=SO(t.processor_,i,e,n,r);return xO(t.processor_,o.viewCache),g(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Q0(t,o.changes,o.viewCache.eventCache.getNode(),null)}function LO(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ie,(o,s)=>{r.push(ji(o,s))}),n.isFullyInitialized()&&r.push(U0(n.getNode())),Q0(t,r,n.getNode(),e)}function Q0(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return aO(t.eventGenerator_,e,n,i)}var wl,Cl=class{constructor(){this.views=new Map}};function jO(t){g(!wl,"__referenceConstructor has already been defined"),wl=t}function VO(){return g(wl,"Reference.ts has not been loaded"),wl}function BO(t){return t.views.size===0}function _m(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return g(o!=null,"SyncTree gave us an op for an invalid query."),a0(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(a0(s,e,n,r));return o}}function Z0(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=vl(n,i?r:null),c=!1;a?c=!0:r instanceof R?(a=bm(n,r),c=!1):(a=R.EMPTY_NODE,c=!1);let l=Ol(new Kt(a,c,!1),new Kt(r,i,!1));return new jp(e,l)}return s}function UO(t,e,n,r,i,o){let s=Z0(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),PO(s,n),LO(s,n)}function $O(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=Un(t);if(i==="default")for(let[c,l]of t.views.entries())s=s.concat(s0(l,n,r)),o0(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=t.views.get(i);c&&(s=s.concat(s0(c,n,r)),o0(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Un(t)&&o.push(new(VO())(e._repo,e._path)),{removed:o,events:s}}function X0(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function jn(t,e){let n=null;for(let r of t.views.values())n=n||FO(r,e);return n}function J0(t,e){if(e._queryParams.loadsAllData())return Pl(t);{let r=e._queryIdentifier;return t.views.get(r)}}function eC(t,e){return J0(t,e)!=null}function Un(t){return Pl(t)!=null}function Pl(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Dl;function HO(t){g(!Dl,"__referenceConstructor has already been defined"),Dl=t}function zO(){return g(Dl,"Reference.ts has not been loaded"),Dl}var WO=1,Il=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ue(null),this.pendingWriteTree_=DO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function ym(t,e,n,r,i){return dO(t.pendingWriteTree_,e,n,r,i),i?Wi(t,new Vi(pm(),e,n)):[]}function GO(t,e,n,r){fO(t.pendingWriteTree_,e,n,r);let i=Ue.fromObject(n);return Wi(t,new _s(pm(),e,i))}function Pn(t,e,n=!1){let r=hO(t.pendingWriteTree_,e);if(pO(t.pendingWriteTree_,e)){let o=new Ue(null);return r.snap!=null?o=o.set(G(),!0):Ee(r.children,s=>{o=o.set(new q(s),!0)}),Wi(t,new Mp(r.path,o,n))}else return[]}function Ms(t,e,n){return Wi(t,new Vi(mm(),e,n))}function qO(t,e,n){let r=Ue.fromObject(n);return Wi(t,new _s(mm(),e,r))}function YO(t,e){return Wi(t,new gl(mm(),e))}function KO(t,e,n){let r=wm(t,n);if(r){let i=Cm(r),o=i.path,s=i.queryId,a=Be(o,e),c=new gl(gm(s),a);return Dm(t,o,c)}else return[]}function El(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||eC(s,e))){let c=$O(s,e,n,r);BO(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>Un(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=XO(f);for(let p=0;p<h.length;++p){let b=h[p],D=b.query,E=iC(t,b);t.listenProvider_.startListening(ds(D),ws(t,D),E.hashFn,E.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(ds(e),null):l.forEach(f=>{let h=t.queryToTagMap.get(jl(f));t.listenProvider_.stopListening(ds(f),h)}))}JO(t,l)}return a}function tC(t,e,n,r){let i=wm(t,r);if(i!=null){let o=Cm(i),s=o.path,a=o.queryId,c=Be(s,e),l=new Vi(gm(a),c,n);return Dm(t,s,l)}else return[]}function QO(t,e,n,r){let i=wm(t,r);if(i){let o=Cm(i),s=o.path,a=o.queryId,c=Be(s,e),l=Ue.fromObject(n),u=new _s(gm(a),c,l);return Dm(t,s,u)}else return[]}function Vp(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Be(f,i);o=o||jn(h,p),s=s||Un(h)});let a=t.syncPointTree_.get(i);a?(s=s||Un(a),o=o||jn(a,G())):(a=new Cl,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=R.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{let b=jn(p,G());b&&(o=o.updateImmediateChild(h,b))}));let l=eC(a,e);if(!l&&!e._queryParams.loadsAllData()){let f=jl(e);g(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=eF();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=Fl(t.pendingWriteTree_,i),d=UO(a,e,n,u,o,c);if(!l&&!s&&!r){let f=J0(a,e);d=d.concat(tF(t,e,f))}return d}function Ll(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=Be(s,e),l=jn(a,c);if(l)return l});return W0(i,e,o,n,!0)}function ZO(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=Be(l,n);r=r||jn(u,d)});let i=t.syncPointTree_.get(n);i?r=r||jn(i,G()):(i=new Cl,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new Kt(r,!0,!1):null,a=Fl(t.pendingWriteTree_,e._path),c=Z0(i,e,a,o?s.getNode():R.EMPTY_NODE,o);return OO(c)}function Wi(t,e){return nC(e,t.syncPointTree_,null,Fl(t.pendingWriteTree_,G()))}function nC(t,e,n,r){if(j(t.path))return rC(t,e,n,r);{let i=e.get(G());n==null&&i!=null&&(n=jn(i,G()));let o=[],s=L(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=G0(r,s);o=o.concat(nC(a,c,l,u))}return i&&(o=o.concat(_m(i,t,r,n))),o}}function rC(t,e,n,r){let i=e.get(G());n==null&&i!=null&&(n=jn(i,G()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=G0(r,s),u=t.operationForChild(s);u&&(o=o.concat(rC(u,a,c,l)))}),i&&(o=o.concat(_m(i,t,r,n))),o}function iC(t,e){let n=e.query,r=ws(t,n);return{hashFn:()=>(kO(e)||R.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?KO(t,n._path,r):YO(t,n._path);{let o=dk(i,n);return El(t,n,null,o)}}}}function ws(t,e){let n=jl(e);return t.queryToTagMap.get(n)}function jl(t){return t._path.toString()+"$"+t._queryIdentifier}function wm(t,e){return t.tagToQueryMap.get(e)}function Cm(t){let e=t.indexOf("$");return g(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new q(t.substr(0,e))}}function Dm(t,e,n){let r=t.syncPointTree_.get(e);g(r,"Missing sync point for query tag that we're tracking");let i=Fl(t.pendingWriteTree_,e);return _m(r,n,i,null)}function XO(t){return t.fold((e,n,r)=>{if(n&&Un(n))return[Pl(n)];{let i=[];return n&&(i=X0(n)),Ee(r,(o,s)=>{i=i.concat(s)}),i}})}function ds(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(zO())(t._repo,t._path):t}function JO(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=jl(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function eF(){return WO++}function tF(t,e,n){let r=e._path,i=ws(t,e),o=iC(t,n),s=t.listenProvider_.startListening(ds(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)g(!Un(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!j(l)&&u&&Un(u))return[Pl(u).query];{let f=[];return u&&(f=f.concat(X0(u).map(h=>h.query))),Ee(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];t.listenProvider_.stopListening(ds(u),ws(t,u))}}return s}var Bp=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Up=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=ae(this.path_,e);return new t(this.syncTree_,n)}node(){return Ll(this.syncTree_,this.path_)}},nF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},c0=function(t,e,n){if(!t||typeof t!="object")return t;if(g(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return rF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return iF(t[".sv"],e);g(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},rF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:g(!1,"Unexpected server value: "+t)}},iF=function(t,e,n){t.hasOwnProperty("increment")||g(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&g(!1,"Unexpected increment value: "+r);let i=e.node();if(g(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},oC=function(t,e,n,r){return Em(e,new Up(n,t),r)},Im=function(t,e,n){return Em(t,new Bp(e),n)};function Em(t,e,n){let r=t.getPriority().val(),i=c0(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=c0(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Pi(a,le(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Pi(i))),s.forEachChild(ie,(a,c)=>{let l=Em(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Cs=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Vl(t,e){let n=e instanceof q?e:new q(e),r=t,i=L(n);for(;i!==null;){let o=fn(r.node.children,i)||{children:{},childCount:0};r=new Cs(i,r,o),n=ne(n),i=L(n)}return r}function Ir(t){return t.node.value}function xm(t,e){t.node.value=e,$p(t)}function sC(t){return t.node.childCount>0}function oF(t){return Ir(t)===void 0&&!sC(t)}function Bl(t,e){Ee(t.node.children,(n,r)=>{e(new Cs(n,t,r))})}function aC(t,e,n,r){n&&!r&&e(t),Bl(t,i=>{aC(i,e,!0,r)}),n&&r&&e(t)}function sF(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function As(t){return new q(t.parent===null?t.name:As(t.parent)+"/"+t.name)}function $p(t){t.parent!==null&&aF(t.parent,t.name,t)}function aF(t,e,n){let r=oF(n),i=ot(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,$p(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,$p(t))}var cF=/[\[\].#$\/\u0000-\u001F\u007F]/,lF=/[\[\].#$\u0000-\u001F\u007F]/,Jh=10*1024*1024,Ul=function(t){return typeof t=="string"&&t.length!==0&&!cF.test(t)},cC=function(t){return typeof t=="string"&&t.length!==0&&!lF.test(t)},uF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),cC(t)},Ds=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Rl(t)||t&&typeof t=="object"&&ot(t,".sv")},Qt=function(t,e,n,r){r&&e===void 0||Ns(ze(t,"value"),e,n)},Ns=function(t,e,n){let r=n instanceof q?new fp(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+vr(r));if(typeof e=="function")throw new Error(t+"contains a function "+vr(r)+" with contents = "+e.toString());if(Rl(e))throw new Error(t+"contains "+e.toString()+" "+vr(r));if(typeof e=="string"&&e.length>Jh/3&&Ki(e)>Jh)throw new Error(t+"contains a string greater than "+Jh+" utf8 bytes "+vr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ee(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Ul(s)))throw new Error(t+" contains an invalid key ("+s+") "+vr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Bk(r,s),Ns(t,a,r),Uk(r)}),i&&o)throw new Error(t+' contains ".value" child '+vr(r)+" in addition to actual children.")}},dF=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let o=hs(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Ul(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Vk);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&pt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},lC=function(t,e,n,r){if(r&&e===void 0)return;let i=ze(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let o=[];Ee(e,(s,a)=>{let c=new q(s);if(Ns(i,a,ae(n,c)),lm(c)===".priority"&&!Ds(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),dF(i,o)},Sm=function(t,e,n){if(!(n&&e===void 0)){if(Rl(e))throw new Error(ze(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ds(e))throw new Error(ze(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Rs=function(t,e,n,r){if(!(r&&n===void 0)&&!Ul(n))throw new Error(ze(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Gi=function(t,e,n,r){if(!(r&&n===void 0)&&!cC(n))throw new Error(ze(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},fF=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Gi(t,e,n,r)},tt=function(t,e){if(L(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},uC=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Ul(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!uF(n))throw new Error(ze(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Hp=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function $l(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!um(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function dC(t,e,n){$l(t,n),fC(t,r=>um(r,e))}function nt(t,e,n){$l(t,n),fC(t,r=>pt(r,e)||pt(e,r))}function fC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(hF(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function hF(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();yr&&Ie("event: "+n.toString()),Hi(r)}}}var hC="repo_interrupt",pF=25,zp=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ml(),this.transactionQueueTree_=new Cs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function mF(t,e,n){if(t.stats_=cm(t.repoInfo_),t.forceRestClient_||mk())t.server_=new Dp(t.repoInfo_,(r,i,o,s)=>{l0(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>u0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ge(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new dm(t.repoInfo_,e,(r,i,o,s)=>{l0(t,r,i,o,s)},r=>{u0(t,r)},r=>{gF(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=bk(t.repoInfo_,()=>new Tp(t.stats_,t.server_)),t.infoData_=new Ip,t.infoSyncTree_=new Il({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Ms(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Tm(t,"connected",!1),t.serverSyncTree_=new Il({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);nt(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function pC(t){let n=t.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ks(t){return nF({timestamp:pC(t)})}function l0(t,e,n,r,i){t.dataUpdateCount++;let o=new q(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=Yi(n,l=>le(l));s=QO(t.serverSyncTree_,o,c,i)}else{let c=le(n);s=tC(t.serverSyncTree_,o,c,i)}else if(r){let c=Yi(n,l=>le(l));s=qO(t.serverSyncTree_,o,c)}else{let c=le(n);s=Ms(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Ui(t,o)),nt(t.eventQueue_,a,s)}function u0(t,e){Tm(t,"connected",e),e===!1&&_F(t)}function gF(t,e){Ee(e,(n,r)=>{Tm(t,n,r)})}function Tm(t,e,n){let r=new q("/.info/"+e),i=le(n);t.infoData_.updateSnapshot(r,i);let o=Ms(t.infoSyncTree_,r,i);nt(t.eventQueue_,r,o)}function Hl(t){return t.nextWriteId_++}function bF(t,e,n){let r=ZO(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=le(i).withIndex(e._queryParams.getIndex());Vp(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=Ms(t.serverSyncTree_,e._path,o);else{let a=ws(t.serverSyncTree_,e);s=tC(t.serverSyncTree_,e._path,o,a)}return nt(t.eventQueue_,e._path,s),El(t.serverSyncTree_,e,n,null,!0),o},i=>(qi(t,"get for query "+ge(e)+" failed: "+i),Promise.reject(new Error(i))))}function Mm(t,e,n,r,i){qi(t,"set",{path:e.toString(),value:n,priority:r});let o=ks(t),s=le(n,r),a=Ll(t.serverSyncTree_,e),c=Im(s,a,o),l=Hl(t),u=ym(t.serverSyncTree_,e,c,l,!0);$l(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||ke("set at "+e+" failed: "+f);let b=Pn(t.serverSyncTree_,l,!p);nt(t.eventQueue_,e,b),$n(t,i,f,h)});let d=Nm(t,e);Ui(t,d),nt(t.eventQueue_,d,[])}function vF(t,e,n,r){qi(t,"update",{path:e.toString(),value:n});let i=!0,o=ks(t),s={};if(Ee(n,(a,c)=>{i=!1,s[a]=oC(ae(e,a),le(c),t.serverSyncTree_,o)}),i)Ie("update() called with empty data.  Don't do anything."),$n(t,r,"ok",void 0);else{let a=Hl(t),c=GO(t.serverSyncTree_,e,s,a);$l(t.eventQueue_,c),t.server_.merge(e.toString(),n,(l,u)=>{let d=l==="ok";d||ke("update at "+e+" failed: "+l);let f=Pn(t.serverSyncTree_,a,!d),h=f.length>0?Ui(t,e):e;nt(t.eventQueue_,h,f),$n(t,r,l,u)}),Ee(n,l=>{let u=Nm(t,ae(e,l));Ui(t,u)}),nt(t.eventQueue_,e,[])}}function _F(t){qi(t,"onDisconnectEvents");let e=ks(t),n=ml();xp(t.onDisconnect_,G(),(i,o)=>{let s=oC(i,o,t.serverSyncTree_,e);zi(n,i,s)});let r=[];xp(n,G(),(i,o)=>{r=r.concat(Ms(t.serverSyncTree_,i,o));let s=Nm(t,i);Ui(t,s)}),t.onDisconnect_=ml(),nt(t.eventQueue_,G(),r)}function yF(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&Ep(t.onDisconnect_,e),$n(t,n,r,i)})}function d0(t,e,n,r){let i=le(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{o==="ok"&&zi(t.onDisconnect_,e,i),$n(t,r,o,s)})}function wF(t,e,n,r,i){let o=le(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{s==="ok"&&zi(t.onDisconnect_,e,o),$n(t,i,s,a)})}function CF(t,e,n,r){if($s(n)){Ie("onDisconnect().update() called with empty data.  Don't do anything."),$n(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{i==="ok"&&Ee(n,(s,a)=>{let c=le(a);zi(t.onDisconnect_,ae(e,s),c)}),$n(t,r,i,o)})}function DF(t,e,n){let r;L(e._path)===".info"?r=Vp(t.infoSyncTree_,e,n):r=Vp(t.serverSyncTree_,e,n),dC(t.eventQueue_,e._path,r)}function Wp(t,e,n){let r;L(e._path)===".info"?r=El(t.infoSyncTree_,e,n):r=El(t.serverSyncTree_,e,n),dC(t.eventQueue_,e._path,r)}function mC(t){t.persistentConnection_&&t.persistentConnection_.interrupt(hC)}function IF(t){t.persistentConnection_&&t.persistentConnection_.resume(hC)}function qi(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ie(n,...e)}function $n(t,e,n,r){e&&Hi(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function EF(t,e,n,r,i,o){qi(t,"transaction on "+e);let s={path:e,update:n,onComplete:r,status:null,order:p0(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Am(t,e,void 0);s.currentInputSnapshot=a;let c=s.update(a.val());if(c===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Ns("transaction failed: Data returned ",c,s.path),s.status=0;let l=Vl(t.transactionQueueTree_,e),u=Ir(l)||[];u.push(s),xm(l,u);let d;typeof c=="object"&&c!==null&&ot(c,".priority")?(d=fn(c,".priority"),g(Ds(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Ll(t.serverSyncTree_,e)||R.EMPTY_NODE).getPriority().val();let f=ks(t),h=le(c,d),p=Im(h,a,f);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=p,s.currentWriteId=Hl(t);let b=ym(t.serverSyncTree_,e,p,s.currentWriteId,s.applyLocally);nt(t.eventQueue_,e,b),zl(t,t.transactionQueueTree_)}}function Am(t,e,n){return Ll(t.serverSyncTree_,e,n)||R.EMPTY_NODE}function zl(t,e=t.transactionQueueTree_){if(e||Wl(t,e),Ir(e)){let n=bC(t,e);g(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&xF(t,As(e),n)}else sC(e)&&Bl(e,n=>{zl(t,n)})}function xF(t,e,n){let r=n.map(l=>l.currentWriteId),i=Am(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];g(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Be(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{qi(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Pn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Wl(t,Vl(t.transactionQueueTree_,e)),zl(t,t.transactionQueueTree_),nt(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Hi(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ke("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Ui(t,e)}},s)}function Ui(t,e){let n=gC(t,e),r=As(n),i=bC(t,n);return SF(t,i,r),r}function SF(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Be(n,c.path),u=!1,d;if(g(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Pn(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=pF)u=!0,d="maxretry",i=i.concat(Pn(t.serverSyncTree_,c.currentWriteId,!0));else{let f=Am(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){Ns("transaction failed: Data returned ",h,c.path);let p=le(h);typeof h=="object"&&h!=null&&ot(h,".priority")||(p=p.updatePriority(f.getPriority()));let D=c.currentWriteId,E=ks(t),Y=Im(p,f,E);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=Y,c.currentWriteId=Hl(t),s.splice(s.indexOf(D),1),i=i.concat(ym(t.serverSyncTree_,c.path,Y,c.currentWriteId,c.applyLocally)),i=i.concat(Pn(t.serverSyncTree_,D,!0))}else u=!0,d="nodata",i=i.concat(Pn(t.serverSyncTree_,c.currentWriteId,!0))}nt(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Wl(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Hi(r[a]);zl(t,t.transactionQueueTree_)}function gC(t,e){let n,r=t.transactionQueueTree_;for(n=L(e);n!==null&&Ir(r)===void 0;)r=Vl(r,n),e=ne(e),n=L(e);return r}function bC(t,e){let n=[];return vC(t,e,n),n.sort((r,i)=>r.order-i.order),n}function vC(t,e,n){let r=Ir(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Bl(e,i=>{vC(t,i,n)})}function Wl(t,e){let n=Ir(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,xm(e,n.length>0?n:void 0)}Bl(e,r=>{Wl(t,r)})}function Nm(t,e){let n=As(gC(t,e)),r=Vl(t.transactionQueueTree_,e);return sF(r,i=>{ep(t,i)}),ep(t,r),aC(r,i=>{ep(t,i)}),n}function ep(t,e){let n=Ir(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(g(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(g(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Pn(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?xm(e,void 0):n.length=o+1,nt(t.eventQueue_,As(e),i);for(let s=0;s<r.length;s++)Hi(r[s])}}function TF(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function MF(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ke(`Invalid query segment '${n}' in query '${t}'`)}return e}var Gp=function(t,e){let n=AF(t),r=n.namespace;n.domain==="firebase.com"&&Yt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Yt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||sk();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new al(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new q(n.pathString)}},AF=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=TF(t.substring(u,d)));let f=MF(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var f0="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",NF=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=f0.charAt(n%64),n=Math.floor(n/64);g(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=f0.charAt(e[i]);return g(s.length===20,"nextPushId: Length should be 20."),s}}();var xl=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ge(this.snapshot.exportVal())}},Sl=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Is=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return g(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Tl=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new we;return yF(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){tt("OnDisconnect.remove",this._path);let e=new we;return d0(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){tt("OnDisconnect.set",this._path),Qt("OnDisconnect.set",e,this._path,!1);let n=new we;return d0(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){tt("OnDisconnect.setWithPriority",this._path),Qt("OnDisconnect.setWithPriority",e,this._path,!1),Sm("OnDisconnect.setWithPriority",n,!1);let r=new we;return wF(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){tt("OnDisconnect.update",this._path),lC("OnDisconnect.update",e,this._path,!1);let n=new we;return CF(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var $e=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return j(this._path)?null:lm(this._path)}get ref(){return new rt(this._repo,this._path)}get _queryIdentifier(){let e=Xw(this._queryParams),n=am(e);return n==="{}"?"default":n}get _queryObject(){return Xw(this._queryParams)}isEqual(e){if(e=Oe(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=um(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+jk(this._path)}};function Gl(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function zn(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===qt){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Vn)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==un)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===ie){if(e!=null&&!Ds(e)||n!=null&&!Ds(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(g(t.getIndex()instanceof ps||t.getIndex()===hm,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ql(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var rt=class t extends $e{constructor(e,n){super(e,n,new vs,!1)}get parent(){let e=F0(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},$i=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new q(e),r=Hn(this.ref,e);return new t(this._node.getChild(n),r,ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,Hn(this.ref,r),ie)))}hasChild(e){let n=new q(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Rm(t,e){return t=Oe(t),t._checkNotDeleted("ref"),e!==void 0?Hn(t._root,e):t._root}function km(t,e){t=Oe(t),t._checkNotDeleted("refFromURL");let n=Gp(e,t._repo.repoInfo_.nodeAdmin);uC("refFromURL",n);let r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Yt("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Rm(t,n.path.toString())}function Hn(t,e){return t=Oe(t),L(t._path)===null?fF("child","path",e,!1):Gi("child","path",e,!1),new rt(t._repo,ae(t._path,e))}function _C(t,e){t=Oe(t),tt("push",t._path),Qt("push",e,t._path,!0);let n=pC(t._repo),r=NF(n),i=Hn(t,r),o=Hn(t,r),s;return e!=null?s=Yl(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function yC(t){return tt("remove",t._path),Yl(t,null)}function Yl(t,e){t=Oe(t),tt("set",t._path),Qt("set",e,t._path,!1);let n=new we;return Mm(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function wC(t,e){t=Oe(t),tt("setPriority",t._path),Sm("setPriority",e,!1);let n=new we;return Mm(t._repo,ae(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function CC(t,e,n){if(tt("setWithPriority",t._path),Qt("setWithPriority",e,t._path,!1),Sm("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let r=new we;return Mm(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function DC(t,e){lC("update",e,t._path,!1);let n=new we;return vF(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function IC(t){t=Oe(t);let e=new Is(()=>{}),n=new Es(e);return bF(t._repo,t,n).then(r=>new $i(r,new rt(t._repo,t._path),t._queryParams.getIndex()))}var Es=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new xl("value",this,new $i(e.snapshotNode,new rt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Sl(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Ml=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Sl(this,e,n):null}createEvent(e,n){g(e.childName!=null,"Child events should have a childName.");let r=Hn(new rt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new xl(e.type,this,new $i(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Os(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{Wp(t._repo,t,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new Is(n,o||void 0),a=e==="value"?new Es(s):new Ml(e,s);return DF(t._repo,t,a),()=>Wp(t._repo,t,a)}function Kl(t,e,n,r){return Os(t,"value",e,n,r)}function Om(t,e,n,r){return Os(t,"child_added",e,n,r)}function Fm(t,e,n,r){return Os(t,"child_changed",e,n,r)}function Pm(t,e,n,r){return Os(t,"child_moved",e,n,r)}function Lm(t,e,n,r){return Os(t,"child_removed",e,n,r)}function jm(t,e,n){let r=null,i=n?new Is(n):null;e==="value"?r=new Es(i):e&&(r=new Ml(e,i)),Wp(t._repo,t,r)}var it=class{},Al=class extends it{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Qt("endAt",this._value,e._path,!0);let n=Cp(e._queryParams,this._value,this._key);if(ql(n),zn(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $e(e._repo,e._path,n,e._orderByCalled)}};function EC(t,e){return Rs("endAt","key",e,!0),new Al(t,e)}var qp=class extends it{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){Qt("endBefore",this._value,e._path,!1);let n=rO(e._queryParams,this._value,this._key);if(ql(n),zn(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $e(e._repo,e._path,n,e._orderByCalled)}};function xC(t,e){return Rs("endBefore","key",e,!0),new qp(t,e)}var Nl=class extends it{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Qt("startAt",this._value,e._path,!0);let n=wp(e._queryParams,this._value,this._key);if(ql(n),zn(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new $e(e._repo,e._path,n,e._orderByCalled)}};function SC(t=null,e){return Rs("startAt","key",e,!0),new Nl(t,e)}var Yp=class extends it{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){Qt("startAfter",this._value,e._path,!1);let n=nO(e._queryParams,this._value,this._key);if(ql(n),zn(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new $e(e._repo,e._path,n,e._orderByCalled)}};function TC(t,e){return Rs("startAfter","key",e,!0),new Yp(t,e)}var Kp=class extends it{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new $e(e._repo,e._path,eO(e._queryParams,this._limit),e._orderByCalled)}};function MC(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Kp(t)}var Qp=class extends it{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new $e(e._repo,e._path,tO(e._queryParams,this._limit),e._orderByCalled)}};function AC(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Qp(t)}var Zp=class extends it{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Gl(e,"orderByChild");let n=new q(this._path);if(j(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new ps(n),i=kl(e._queryParams,r);return zn(i),new $e(e._repo,e._path,i,!0)}};function NC(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Gi("orderByChild","path",t,!1),new Zp(t)}var Xp=class extends it{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){Gl(e,"orderByKey");let n=kl(e._queryParams,qt);return zn(n),new $e(e._repo,e._path,n,!0)}};function RC(){return new Xp}var Jp=class extends it{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){Gl(e,"orderByPriority");let n=kl(e._queryParams,ie);return zn(n),new $e(e._repo,e._path,n,!0)}};function kC(){return new Jp}var em=class extends it{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){Gl(e,"orderByValue");let n=kl(e._queryParams,hm);return zn(n),new $e(e._repo,e._path,n,!0)}};function OC(){return new em}var tm=class extends it{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Qt("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Al(this._value,this._key)._apply(new Nl(this._value,this._key)._apply(e))}};function FC(t,e){return Rs("equalTo","key",e,!0),new tm(t,e)}function gt(t,...e){let n=Oe(t);for(let r of e)n=r._apply(n);return n}jO(rt);HO(rt);var RF="FIREBASE_DATABASE_EMULATOR_HOST",nm={},kF=!1;function OF(t,e,n,r){t.repoInfo_=new al(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Vm(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Yt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ie("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Gp(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[RF]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=Gp(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new cs(cs.OWNER):new sp(t.name,t.options,e);uC("Invalid Firebase Database URL",s),j(s.path)||Yt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=PF(a,t,u,new op(t.name,n));return new rm(d,t)}function FF(t,e){let n=nm[e];(!n||n[t.key]!==t)&&Yt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),mC(t),delete n[t.key]}function PF(t,e,n,r){let i=nm[e.name];i||(i={},nm[e.name]=i);let o=i[t.toURLString()];return o&&Yt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new zp(t,kF,n,r),i[t.toURLString()]=o,o}var rm=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(mF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rt(this._repo,G())),this._rootInternal}_delete(){return this._rootInternal!==null&&(FF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Yt("Cannot call "+e+" on a deleted database.")}};function PC(){O0.IS_TRANSPORT_INITIALIZED&&ke("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function LC(){PC(),fs.forceDisallow()}function jC(){PC(),Ri.forceDisallow(),fs.forceAllow()}function VC(t,e,n,r={}){t=Oe(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Yt("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Yt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new cs(cs.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:ng(r.mockUserToken,t.app.options.projectId);o=new cs(s)}OF(i,e,n,o)}function BC(t){t=Oe(t),t._checkNotDeleted("goOffline"),mC(t._repo)}function UC(t){t=Oe(t),t._checkNotDeleted("goOnline"),IF(t._repo)}function $C(t,e){g0(t,e)}function LF(t){sm(fg),Qi(new Zt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Vm(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),hn(Fw,Pw,t),hn(Fw,Pw,"esm2017")}var jF={".sv":"timestamp"};function HC(){return jF}function zC(t){return{".sv":{increment:t}}}var im=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function WC(t,e,n){var r;if(t=Oe(t),tt("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let i=(r=n?.applyLocally)!==null&&r!==void 0?r:!0,o=new we,s=(c,l,u)=>{let d=null;c?o.reject(c):(d=new $i(u,new rt(t._repo,t._path),ie),o.resolve(new im(l,d)))},a=Kl(t,()=>{});return EF(t._repo,t._path,e,s,a,i),o.promise}dm.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};dm.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};LF();var VF="@firebase/database-compat",BF="1.0.5";var UF=new Nr("@firebase/database-compat"),GC=function(t){let e="FIREBASE WARNING: "+t;UF.warn(e)};var $F=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(ze(t,e)+"must be a boolean.")},HF=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ze(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var Bm=class{constructor(e){this._delegate=e}cancel(e){x("OnDisconnect.cancel",0,1,arguments.length),_e("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){x("OnDisconnect.remove",0,1,arguments.length),_e("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){x("OnDisconnect.set",1,2,arguments.length),_e("OnDisconnect.set","onComplete",n,!0);let r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){x("OnDisconnect.setWithPriority",2,3,arguments.length),_e("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if(x("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,GC("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_e("OnDisconnect.update","onComplete",n,!0);let r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}};var Um=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return x("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Er=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return x("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return x("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return x("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return x("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return x("DataSnapshot.child",0,1,arguments.length),e=String(e),Gi("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return x("DataSnapshot.hasChild",1,1,arguments.length),Gi("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return x("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return x("DataSnapshot.forEach",1,1,arguments.length),_e("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return x("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return x("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return x("DataSnapshot.ref",0,0,arguments.length),new dn(this._database,this._delegate.ref)}get ref(){return this.getRef()}},Ql=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;x("Query.on",2,4,arguments.length),_e("Query.on","callback",n,!1);let s=t.getCancelAndContextArgs_("Query.on",r,i),a=(l,u)=>{n.call(s.context,new Er(this.database,l),u)};a.userCallback=n,a.context=s.context;let c=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(e){case"value":return Kl(this._delegate,a,c),n;case"child_added":return Om(this._delegate,a,c),n;case"child_removed":return Lm(this._delegate,a,c),n;case"child_changed":return Fm(this._delegate,a,c),n;case"child_moved":return Pm(this._delegate,a,c),n;default:throw new Error(ze("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(x("Query.off",0,3,arguments.length),HF("Query.off",e,!0),_e("Query.off","callback",n,!0),tu("Query.off","context",r,!0),n){let i=()=>{};i.userCallback=n,i.context=r,jm(this._delegate,e,i)}else jm(this._delegate,e)}get(){return IC(this._delegate).then(e=>new Er(this.database,e))}once(e,n,r,i){x("Query.once",1,4,arguments.length),_e("Query.once","callback",n,!0);let o=t.getCancelAndContextArgs_("Query.once",r,i),s=new we,a=(l,u)=>{let d=new Er(this.database,l);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let c=l=>{o.cancel&&o.cancel.call(o.context,l),s.reject(l)};switch(e){case"value":Kl(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":Om(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":Lm(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":Fm(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":Pm(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error(ze("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return x("Query.limitToFirst",1,1,arguments.length),new t(this.database,gt(this._delegate,MC(e)))}limitToLast(e){return x("Query.limitToLast",1,1,arguments.length),new t(this.database,gt(this._delegate,AC(e)))}orderByChild(e){return x("Query.orderByChild",1,1,arguments.length),new t(this.database,gt(this._delegate,NC(e)))}orderByKey(){return x("Query.orderByKey",0,0,arguments.length),new t(this.database,gt(this._delegate,RC()))}orderByPriority(){return x("Query.orderByPriority",0,0,arguments.length),new t(this.database,gt(this._delegate,kC()))}orderByValue(){return x("Query.orderByValue",0,0,arguments.length),new t(this.database,gt(this._delegate,OC()))}startAt(e=null,n){return x("Query.startAt",0,2,arguments.length),new t(this.database,gt(this._delegate,SC(e,n)))}startAfter(e=null,n){return x("Query.startAfter",0,2,arguments.length),new t(this.database,gt(this._delegate,TC(e,n)))}endAt(e=null,n){return x("Query.endAt",0,2,arguments.length),new t(this.database,gt(this._delegate,EC(e,n)))}endBefore(e=null,n){return x("Query.endBefore",0,2,arguments.length),new t(this.database,gt(this._delegate,xC(e,n)))}equalTo(e,n){return x("Query.equalTo",1,2,arguments.length),new t(this.database,gt(this._delegate,FC(e,n)))}toString(){return x("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return x("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(x("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){let i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,_e(e,"cancel",i.cancel,!0),i.context=r,tu(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(ze(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new dn(this.database,new rt(this._delegate._repo,this._delegate._path))}},dn=class t extends Ql{constructor(e,n){super(e,new $e(n._repo,n._path,new vs,!1)),this.database=e,this._delegate=n}getKey(){return x("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return x("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,Hn(this._delegate,e))}getParent(){x("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return x("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){x("Reference.set",1,2,arguments.length),_e("Reference.set","onComplete",n,!0);let r=Yl(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(x("Reference.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,GC("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}tt("Reference.update",this._delegate._path),_e("Reference.update","onComplete",n,!0);let r=DC(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){x("Reference.setWithPriority",2,3,arguments.length),_e("Reference.setWithPriority","onComplete",r,!0);let i=CC(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){x("Reference.remove",0,1,arguments.length),_e("Reference.remove","onComplete",e,!0);let n=yC(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){x("Reference.transaction",1,3,arguments.length),_e("Reference.transaction","transactionUpdate",e,!1),_e("Reference.transaction","onComplete",n,!0),$F("Reference.transaction","applyLocally",r,!0);let i=WC(this._delegate,e,{applyLocally:r}).then(o=>new Um(o.committed,new Er(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){x("Reference.setPriority",1,2,arguments.length),_e("Reference.setPriority","onComplete",n,!0);let r=wC(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){x("Reference.push",0,2,arguments.length),_e("Reference.push","onComplete",n,!0);let r=_C(this._delegate,e),i=r.then(s=>new t(this.database,s));n&&i.then(()=>n(null),s=>n(s));let o=new t(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return tt("Reference.onDisconnect",this._delegate._path),new Bm(new Tl(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var xr=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:LC,forceLongPolling:jC}}useEmulator(e,n,r={}){VC(this._delegate,e,n,r)}ref(e){if(x("database.ref",0,1,arguments.length),e instanceof dn){let n=km(this._delegate,e.toString());return new dn(this,n)}else{let n=Rm(this._delegate,e);return new dn(this,n)}}refFromURL(e){x("database.refFromURL",1,1,arguments.length);let r=km(this._delegate,e);return new dn(this,r)}goOffline(){return x("database.goOffline",0,0,arguments.length),BC(this._delegate)}goOnline(){return x("database.goOnline",0,0,arguments.length),UC(this._delegate)}};xr.ServerValue={TIMESTAMP:HC(),increment:t=>zC(t)};function zF({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){sm(n);let a=new nu("database-standalone"),c=new Hs("auth-internal",a);c.setComponent(new Zt("auth-internal",()=>r,"PRIVATE"));let l;return i&&(l=new Hs("app-check-internal",a),l.setComponent(new Zt("app-check-internal",()=>i,"PRIVATE"))),{instance:new xr(Vm(t,c,l,e,s),t),namespace:o}}var WF=Object.freeze({__proto__:null,initStandalone:zF});var GF=xr.ServerValue;function qF(t){t.INTERNAL.registerComponent(new Zt("database-compat",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new xr(i,r)},"PUBLIC").setServiceProps({Reference:dn,Query:Ql,Database:xr,DataSnapshot:Er,enableLogging:$C,INTERNAL:WF,ServerValue:GF}).setMultipleInstances(!0)),t.registerVersion(VF,BF)}qF(Fe);function Fs(t,e,n="on",r=Kn){return new P(i=>{let o=null;return o=t[n](e,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),n==="once"&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),n==="on"?{unsubscribe(){o!=null&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(S(i=>{let{snapshot:o,prevKey:s}=i,a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),eo())}function YF(t){return typeof t=="string"}function KF(t){return typeof t.exportVal=="function"}function ZC(t){return t==null}function XC(t){return typeof t.set=="function"}function qC(t,e){return XC(e)?e:t.ref(e)}function JC(t,e){if(YF(t))return e.stringCase();if(XC(t))return e.firebaseCase();if(KF(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function eD(t){return(ZC(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function tD(t,e,n){e=eD(e);let r=e.map(i=>Fs(t,i,"on",n));return Hr(...r)}function QF(t,e,n){let r=tD(t,e).pipe(Wr((i,o)=>[...i,o],[]));return XF(t,r,n)}function ZF(t,e){return Fs(t,"value","on",e).pipe(S(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}function XF(t,e,n){return ZF(t,n).pipe(Tu(e),S(([i,o])=>{let s=i.lastKeyToLoad,a=o.map(c=>c.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),Su(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),S(i=>i.actions))}function YC(t,e){return function(r,i){return JC(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function JF(t){return function(n){return n?JC(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function eP(t,e,n){return Fs(t,"value","once",n).pipe(se(r=>{let i=[I(r)];return e.forEach(o=>i.push(Fs(t,o,"on",n))),Hr(...i).pipe(Wr(nP,[]))}),Du())}function nD(t,e){let n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function tP(t,e){if(ZC(e))return 0;{let n=nD(t,e);return n===-1?t.length:n+1}}function nP(t,e){let{payload:n,prevKey:r,key:i}=e,o=nD(t,i),s=tP(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(c=>{let l={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,t=[...t,l],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==r&&(t=t.filter(c=>c.payload.key!==n.key),t.splice(s,0,e));else{if(r==null)return[e,...t];t=t.slice(),t.splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(o>-1){let a=t.splice(o,1)[0];return t=t.slice(),t.splice(s,0,a),t}return t;default:return t}}function KC(t,e,n){return e=eD(e),eP(t,e,n)}function rP(t,e){let n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:YC(r,"update"),set:YC(r,"set"),push:i=>r.push(i),remove:JF(r),snapshotChanges(i){return KC(t,i,n).pipe(ln)},stateChanges(i){return tD(t,i,n).pipe(ln)},auditTrail(i){return QF(t,i,n).pipe(ln)},valueChanges(i,o){return KC(t,i,n).pipe(S(a=>a.map(c=>o&&o.idField?K(_({},c.payload.val()),{[o.idField]:c.key}):c.payload.val())),ln)}}}function QC(t,e){return function(){return Fs(t,"value","on",e)}}function iP(t,e){return{query:t,snapshotChanges(){return QC(t,e.schedulers.outsideAngular)().pipe(ln)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return QC(t,e.schedulers.outsideAngular)().pipe(ln,S(r=>r.payload.exists()?r.payload.val():null))}}}var oP=new w("angularfire2.realtimeDatabaseURL"),sP=new w("angularfire2.database.use-emulator"),$m=(()=>{class t{schedulers;database;constructor(n,r,i,o,s,a,c,l,u,d,f,h,p,b,D){this.schedulers=a;let E=c,Y=ts(n,s,r);l&&qh(Y,s,u,f,h,p,d,b),this.database=il(`${Y.name}.database.${i}`,"AngularFireDatabase",Y.name,()=>{let O=s.runOutsideAngular(()=>Y.database(i||void 0));return E&&O.useEmulator(...E),O},[E])}list(n,r){let i=this.schedulers.ngZone.runOutsideAngular(()=>qC(this.database,n)),o=i;return r&&(o=r(i)),rP(o,this)}object(n){let r=this.schedulers.ngZone.runOutsideAngular(()=>qC(this.database,n));return iP(r,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||t)(m(Mi),m(Ai,8),m(oP,8),m(Re),m(F),m(tl),m(sP,8),m(ns,8),m(Uh,8),m($h,8),m(Hh,8),m(zh,8),m(Wh,8),m(Gh,8),m(gr,8))};static \u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),rD=(()=>{class t{constructor(){Fe.registerVersion("angularfire",br.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=z({type:t});static \u0275inj=H({providers:[$m]})}return t})();function cP(t,e){if(t&1){let n=fc();re(0,"li",4)(1,"div",5)(2,"p")(3,"strong"),me(4,"Email:"),Z(),me(5),Z(),re(6,"p")(7,"strong"),me(8,"Name:"),Z(),me(9),Z(),re(10,"p")(11,"strong"),me(12,"Phone:"),Z(),me(13),Z(),re(14,"p")(15,"strong"),me(16,"Company:"),Z(),me(17),Z(),re(18,"p")(19,"strong"),me(20,"Position:"),Z(),me(21),Z()(),re(22,"div",6)(23,"button",7),ft("click",function(){let i=xn(n).$implicit,o=pi();return Sn(o.approveUser(i))}),me(24,"Approve"),Z(),re(25,"button",8),ft("click",function(){let i=xn(n).$implicit,o=pi();return Sn(o.rejectUser(i))}),me(26,"Reject"),Z()()()}if(t&2){let n=e.$implicit;Me(5),$t(" ",n.email,""),Me(4),$t(" ",n.name,""),Me(4),$t(" ",n.phone,""),Me(4),$t(" ",n.company,""),Me(4),$t(" ",n.position,"")}}var iD=(()=>{let e=class e{constructor(r,i){this.db=r,this.auth=i,this.pendingUsers=[],this.pendingUsersCount=0}ngOnInit(){this.getPendingUsersCount(),this.fetchPendingUsers()}getPendingUsersCount(){this.db.list("users").snapshotChanges().subscribe(r=>{this.pendingUsersCount=r.length})}fetchPendingUsers(){this.db.list("users").snapshotChanges().subscribe(r=>{this.pendingUsers=r.map(i=>{let o=i.payload.val(),s=i.key;return K(_({},o),{key:s})})})}approveUser(r){this.auth.createUserWithEmailAndPassword(r.email,r.password).then(()=>{this.db.list("users").remove(r.key).then(()=>{alert("User approved successfully!")}).catch(i=>{console.error(i),alert("Error removing user because the email already used!")})}).catch(i=>{console.error(i),alert("Error approving user: "+i.message)})}rejectUser(r){this.db.list("users").remove(r.key).then(()=>{alert("User rejected successfully!")}).catch(i=>{console.error(i),alert("Error rejecting user: "+i.message)})}};e.\u0275fac=function(i){return new(i||e)(B($m),B(ns))},e.\u0275cmp=Ze({type:e,selectors:[["app-user-management"]],decls:6,vars:2,consts:[[1,"user-management-container"],[1,"header"],[1,"user-list"],["class","user-item",4,"ngFor","ngForOf"],[1,"user-item"],[1,"user-details"],[1,"user-actions"],[1,"approve-btn",3,"click"],[1,"reject-btn",3,"click"]],template:function(i,o){i&1&&(re(0,"div",0)(1,"div",1)(2,"h2"),me(3),Z()(),re(4,"ul",2),hi(5,cP,27,5,"li",3),Z()()),i&2&&(Me(3),$t("Pending User Registrations: ",o.pendingUsersCount,""),Me(2),Mn("ngForOf",o.pendingUsers))},dependencies:[B_],styles:[".user-management-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}h2[_ngcontent-%COMP%]{color:red;margin:0}.action-button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;background-color:#000;color:#fff}.user-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.user-item[_ngcontent-%COMP%]{border:2px solid black;border-radius:8px;margin-bottom:20px;padding:20px}.user-details[_ngcontent-%COMP%]{margin-bottom:10px}.user-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.user-actions[_ngcontent-%COMP%]{text-align:right}.approve-btn[_ngcontent-%COMP%], .reject-btn[_ngcontent-%COMP%]{padding:8px 16px;margin-left:10px;border:none;border-radius:4px;cursor:pointer}.approve-btn[_ngcontent-%COMP%]{background-color:green;color:#fff}.reject-btn[_ngcontent-%COMP%]{background-color:red;color:#fff}@media (max-width: 768px){.user-item[_ngcontent-%COMP%]{padding:15px}.user-actions[_ngcontent-%COMP%]{text-align:center;margin-top:10px}.approve-btn[_ngcontent-%COMP%], .reject-btn[_ngcontent-%COMP%]{margin-left:0;margin-right:10px}}"]});let t=e;return t})();var lP=[{path:"",component:Rh},{path:"dashboard",component:Rh},{path:"users",component:iD}],oD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=z({type:e}),e.\u0275inj=H({imports:[Ko.forRoot(lP),Ko]});let t=e;return t})();var sD=(()=>{let e=class e{constructor(){this.title="admin-panel"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,o){i&1&&Ut(0,"router-outlet")},dependencies:[gh]});let t=e;return t})();var aD={production:!1,firebaseConfig:{apiKey:"AIzaSyDFxmhQP-bAn4TLyCCeMQMh-EnFFx6P8QE",authDomain:"arp-test-343ca.firebaseapp.com",databaseURL:"https://arp-test-343ca-default-rtdb.firebaseio.com",projectId:"arp-test-343ca",storageBucket:"arp-test-343ca.appspot.com",messagingSenderId:"353751654656",appId:"1:353751654656:android:f7423d2a6125d4b0f113e5"}};var Hm;try{Hm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Hm=!1}var Ls=(()=>{let e=class e{constructor(r){this._platformId=r,this.isBrowser=this._platformId?Mf(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Hm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(m(Re))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ps;function uP(){if(Ps==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ps=!0}))}finally{Ps=Ps||!1}return Ps}function zm(t){return uP()?t:!!t.capture}function cD(t){return t.composedPath?t.composedPath()[0]:t.target}function lD(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Wm(t){return Array.isArray(t)?t:[t]}function Gm(t){return t instanceof Ve?t.nativeElement:t}var dD=new Set,Sr,dP=(()=>{let e=class e{constructor(r,i){this._platform=r,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):hP}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&fP(r,this._nonce),this._matchMedia(r)}};e.\u0275fac=function(i){return new(i||e)(m(Ls),m(yo,8))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fP(t,e){if(!dD.has(t))try{Sr||(Sr=document.createElement("style"),e&&Sr.setAttribute("nonce",e),Sr.setAttribute("type","text/css"),document.head.appendChild(Sr)),Sr.sheet&&(Sr.sheet.insertRule(`@media ${t} {body{ }}`,0),dD.add(t))}catch(n){console.error(n)}}function hP(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var hD=(()=>{let e=class e{constructor(r,i){this._mediaMatcher=r,this._zone=i,this._queries=new Map,this._destroySubject=new ce}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return fD(Wm(r)).some(o=>this._registerQuery(o).mql.matches)}observe(r){let o=fD(Wm(r)).map(a=>this._registerQuery(a).observable),s=Qn(o);return s=mn(s.pipe(wt(1)),s.pipe(xu(1),wu(0))),s.pipe(S(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:u})=>{c.matches=c.matches||l,c.breakpoints[u]=l}),c}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);let i=this._mediaMatcher.matchMedia(r),s={observable:new P(a=>{let c=l=>this._zone.run(()=>a.next(l));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(to(i),S(({matches:a})=>({query:r,matches:a})),no(this._destroySubject)),mql:i};return this._queries.set(r,s),s}};e.\u0275fac=function(i){return new(i||e)(m(dP),m(F))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fD(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}function gD(t){return t.buttons===0||t.detail===0}function bD(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var Tr=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Tr||{}),pD="cdk-high-contrast-black-on-white",mD="cdk-high-contrast-white-on-black",qm="cdk-high-contrast-active",vD=(()=>{let e=class e{constructor(r,i){this._platform=r,this._document=i,this._breakpointSubscription=v(hD).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Tr.NONE;let r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);let i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(r):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(r.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Tr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Tr.BLACK_ON_WHITE}return Tr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let r=this._document.body.classList;r.remove(qm,pD,mD),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Tr.BLACK_ON_WHITE?r.add(qm,pD):i===Tr.WHITE_ON_BLACK&&r.add(qm,mD)}}};e.\u0275fac=function(i){return new(i||e)(m(Ls),m(Ce))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ym=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=z({type:e}),e.\u0275inj=H({});let t=e;return t})();function mP(){return!0}var gP=new w("mat-sanity-checks",{providedIn:"root",factory:mP}),Ye=(()=>{let e=class e{constructor(r,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,r._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return lD()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[r]}};e.\u0275fac=function(i){return new(i||e)(m(vD),m(gP,8),m(Ce))},e.\u0275mod=z({type:e}),e.\u0275inj=H({imports:[Ym,Ym]});let t=e;return t})();var bt=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(bt||{}),Km=class{constructor(e,n,r,i=!1){this._renderer=e,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=bt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},_D=zm({passive:!0,capture:!0}),Qm=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=cD(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(o=>o.handleEvent(e))})}}addHandler(e,n,r,i){let o=this._events.get(n);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,_D)})}removeHandler(e,n,r){let i=this._events.get(e);if(!i)return;let o=i.get(n);o&&(o.delete(r),o.size===0&&i.delete(n),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,_D)))}},yD={enterDuration:225,exitDuration:150},bP=800,wD=zm({passive:!0,capture:!0}),CD=["mousedown","touchstart"],DD=["mouseup","mouseleave","touchend","touchcancel"],js=class js{constructor(e,n,r,i){this._target=e,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Gm(r))}fadeInRipple(e,n,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=_(_({},yD),r.animation);r.centered&&(e=i.left+i.width/2,n=i.top+i.height/2);let s=r.radius||vP(e,n,i),a=e-i.left,c=n-i.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${c-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,r.color!=null&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),f=d.transitionProperty,h=d.transitionDuration,p=f==="none"||h==="0s"||h==="0s, 0s"||i.width===0&&i.height===0,b=new Km(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",b.state=bt.FADING_IN,r.persistent||(this._mostRecentTransientRipple=b);let D=null;return!p&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let E=()=>this._finishRippleTransition(b),Y=()=>this._destroyRipple(b);u.addEventListener("transitionend",E),u.addEventListener("transitioncancel",Y),D={onTransitionEnd:E,onTransitionCancel:Y}}),this._activeRipples.set(b,D),(p||!l)&&this._finishRippleTransition(b),b}fadeOutRipple(e){if(e.state===bt.FADING_OUT||e.state===bt.HIDDEN)return;let n=e.element,r=_(_({},yD),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=bt.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=Gm(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,CD.forEach(r=>{js._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{DD.forEach(n=>{this._triggerElement.addEventListener(n,this,wD)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===bt.FADING_IN?this._startFadeOutTransition(e):e.state===bt.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=bt.VISIBLE,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=bt.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=gD(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+bP;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!bD(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===bt.VISIBLE||e.config.terminateOnPointerUp&&e.state===bt.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(CD.forEach(n=>js._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(DD.forEach(n=>e.removeEventListener(n,this,wD)),this._pointerUpEventsRegistered=!1))}};js._eventManager=new Qm;var ID=js;function vP(t,e,n){let r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}var ED=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=z({type:e}),e.\u0275inj=H({imports:[Ye,Ye]});let t=e;return t})();var SD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=z({type:e}),e.\u0275inj=H({imports:[Ye,ED,Ye]});let t=e;return t})();var TD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=z({type:e}),e.\u0275inj=H({imports:[Ye,Ic,Ye]});let t=e;return t})();var MD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=z({type:e}),e.\u0275inj=H({imports:[Ye,Ye]});let t=e;return t})();var AD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=z({type:e}),e.\u0275inj=H({imports:[Ye,Ye]});let t=e;return t})();var ND=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=z({type:e,bootstrap:[sD]}),e.\u0275inj=H({imports:[X_,oD,Rw.initializeApp(aD.firebaseConfig),rD,kw,SD,TD,MD,AD,gw,Ko]});let t=e;return t})();Z_().bootstrapModule(ND).catch(t=>console.error(t));
